# æ˜¾ç¤ºå±æ£€æµ‹æ£€æµ‹ç³»ç»Ÿæºç åˆ†äº«
 # [ä¸€æ¡é¾™æ•™å­¦YOLOV8æ ‡æ³¨å¥½çš„æ•°æ®é›†ä¸€é”®è®­ç»ƒ_70+å…¨å¥—æ”¹è¿›åˆ›æ–°ç‚¹å‘åˆŠ_Webå‰ç«¯å±•ç¤º]

### 1.ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

é¡¹ç›®å‚è€ƒ[AAAI Association for the Advancement of Artificial Intelligence](https://gitee.com/qunshansj/projects)

é¡¹ç›®æ¥æº[AACV Association for the Advancement of Computer Vision](https://gitee.com/qunmasj/projects)

ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

éšç€ä¿¡æ¯æŠ€æœ¯çš„è¿…çŒ›å‘å±•ï¼Œæ˜¾ç¤ºå±ä½œä¸ºä¿¡æ¯ä¼ é€’å’Œäººæœºäº¤äº’çš„é‡è¦åª’ä»‹ï¼Œå¹¿æ³›åº”ç”¨äºå„ä¸ªé¢†åŸŸï¼ŒåŒ…æ‹¬å¹¿å‘Šã€äº¤é€šã€åŒ»ç–—å’Œæ•™è‚²ç­‰ã€‚éšç€æ˜¾ç¤ºå±æ•°é‡çš„æ¿€å¢ï¼Œå¦‚ä½•é«˜æ•ˆã€å‡†ç¡®åœ°æ£€æµ‹å’Œè¯†åˆ«æ˜¾ç¤ºå±çš„çŠ¶æ€ä¸å†…å®¹ï¼Œæˆä¸ºäº†è®¡ç®—æœºè§†è§‰é¢†åŸŸäºŸå¾…è§£å†³çš„å…³é”®é—®é¢˜ã€‚ä¼ ç»Ÿçš„æ˜¾ç¤ºå±æ£€æµ‹æ–¹æ³•å¾€å¾€ä¾èµ–äºäººå·¥æ ‡æ³¨å’Œè§„åˆ™è®¾å®šï¼Œæ•ˆç‡ä½ä¸‹ä¸”æ˜“å—ç¯å¢ƒå› ç´ çš„å½±å“ï¼Œéš¾ä»¥é€‚åº”å¤æ‚å¤šå˜çš„å®é™…åº”ç”¨åœºæ™¯ã€‚å› æ­¤ï¼ŒåŸºäºæ·±åº¦å­¦ä¹ çš„è‡ªåŠ¨åŒ–æ£€æµ‹æŠ€æœ¯åº”è¿è€Œç”Ÿï¼Œå°¤å…¶æ˜¯ç›®æ ‡æ£€æµ‹ç®—æ³•åœ¨å›¾åƒå¤„ç†ä¸­çš„åº”ç”¨ï¼Œå±•ç°å‡ºäº†è‰¯å¥½çš„æ€§èƒ½å’Œå¹¿é˜”çš„å‰æ™¯ã€‚

YOLOï¼ˆYou Only Look Onceï¼‰ç³»åˆ—ç®—æ³•å› å…¶é«˜æ•ˆçš„å®æ—¶æ£€æµ‹èƒ½åŠ›å’Œè¾ƒé«˜çš„å‡†ç¡®ç‡ï¼Œé€æ¸æˆä¸ºç›®æ ‡æ£€æµ‹é¢†åŸŸçš„ç ”ç©¶çƒ­ç‚¹ã€‚YOLOv8ä½œä¸ºè¯¥ç³»åˆ—çš„æœ€æ–°ç‰ˆæœ¬ï¼Œç»“åˆäº†æ›´å…ˆè¿›çš„ç½‘ç»œç»“æ„å’Œä¼˜åŒ–ç­–ç•¥ï¼Œèƒ½å¤Ÿåœ¨ä¿æŒé«˜ç²¾åº¦çš„åŒæ—¶æ˜¾è‘—æå‡æ£€æµ‹é€Ÿåº¦ã€‚ç„¶è€Œï¼Œé’ˆå¯¹ç‰¹å®šåº”ç”¨åœºæ™¯çš„YOLOv8æ¨¡å‹ä»éœ€è¿›è¡Œæ”¹è¿›å’Œä¼˜åŒ–ï¼Œä»¥é€‚åº”ä¸åŒçš„æ£€æµ‹éœ€æ±‚ã€‚ç‰¹åˆ«æ˜¯åœ¨æ˜¾ç¤ºå±æ£€æµ‹ä»»åŠ¡ä¸­ï¼Œå¦‚ä½•æœ‰æ•ˆåœ°å¤„ç†èƒŒæ™¯å¤æ‚ã€å…‰ç…§å˜åŒ–ã€æ˜¾ç¤ºå†…å®¹å¤šæ ·ç­‰é—®é¢˜ï¼Œæˆä¸ºäº†ç ”ç©¶çš„é‡ç‚¹ã€‚

æœ¬ç ”ç©¶æ—¨åœ¨åŸºäºæ”¹è¿›çš„YOLOv8æ¨¡å‹ï¼Œæ„å»ºä¸€ä¸ªé«˜æ•ˆçš„æ˜¾ç¤ºå±æ£€æµ‹ç³»ç»Ÿã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†åˆ©ç”¨ä¸€ä¸ªåŒ…å«4680å¼ å›¾åƒçš„æ•°æ®é›†ï¼Œä¸“æ³¨äºå•ä¸€ç±»åˆ«çš„æ˜¾ç¤ºå±æ£€æµ‹ã€‚è¯¥æ•°æ®é›†çš„æ„å»ºå’Œä½¿ç”¨ï¼Œä¸ä»…ä¸ºæ¨¡å‹çš„è®­ç»ƒæä¾›äº†ä¸°å¯Œçš„æ ·æœ¬ï¼Œè¿˜ä¸ºåç»­çš„æ€§èƒ½è¯„ä¼°å¥ å®šäº†åŸºç¡€ã€‚é€šè¿‡å¯¹æ•°æ®é›†çš„æ·±å…¥åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°ç†è§£æ˜¾ç¤ºå±åœ¨ä¸åŒç¯å¢ƒä¸‹çš„ç‰¹å¾ï¼Œä»è€Œä¸ºæ¨¡å‹çš„æ”¹è¿›æä¾›æ•°æ®æ”¯æŒã€‚

æœ¬ç ”ç©¶çš„æ„ä¹‰åœ¨äºï¼Œé¦–å…ˆï¼Œé€šè¿‡æ”¹è¿›YOLOv8æ¨¡å‹ï¼Œæˆ‘ä»¬æœŸæœ›èƒ½å¤Ÿæå‡æ˜¾ç¤ºå±æ£€æµ‹çš„å‡†ç¡®æ€§å’Œå®æ—¶æ€§ï¼Œä¸ºç›¸å…³è¡Œä¸šæä¾›æ›´åŠ æ™ºèƒ½åŒ–çš„è§£å†³æ–¹æ¡ˆã€‚å…¶æ¬¡ï¼Œæ„å»ºé«˜æ•ˆçš„æ˜¾ç¤ºå±æ£€æµ‹ç³»ç»Ÿï¼Œä¸ä»…å¯ä»¥é™ä½äººå·¥å¹²é¢„çš„æˆæœ¬ï¼Œè¿˜èƒ½åœ¨å¹¿å‘ŠæŠ•æ”¾ã€äº¤é€šç›‘æ§ç­‰é¢†åŸŸå®ç°æ›´é«˜æ•ˆçš„ä¿¡æ¯ç®¡ç†å’Œå†³ç­–æ”¯æŒã€‚æ­¤å¤–ï¼Œæœ¬ç ”ç©¶è¿˜å°†ä¸ºç›®æ ‡æ£€æµ‹é¢†åŸŸçš„å…¶ä»–åº”ç”¨æä¾›å€Ÿé‰´ï¼Œæ¨åŠ¨è®¡ç®—æœºè§†è§‰æŠ€æœ¯åœ¨æ›´å¹¿æ³›åœºæ™¯ä¸­çš„åº”ç”¨ã€‚

æœ€åï¼Œéšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥ï¼Œæ˜¾ç¤ºå±æ£€æµ‹ç³»ç»Ÿçš„ç ”ç©¶å°†ä¸ºæœªæ¥çš„æ™ºèƒ½åŸå¸‚ã€æ™ºæ…§äº¤é€šå’Œæ™ºèƒ½å®¶å±…ç­‰é¢†åŸŸçš„å‘å±•æä¾›é‡è¦çš„æŠ€æœ¯æ”¯æ’‘ã€‚é€šè¿‡æœ¬ç ”ç©¶ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿä¸ºæ˜¾ç¤ºå±æ£€æµ‹æŠ€æœ¯çš„å‘å±•è´¡çŒ®ä¸€ä»½åŠ›é‡ï¼Œæ¨åŠ¨ç›¸å…³é¢†åŸŸçš„æŠ€æœ¯åˆ›æ–°ä¸åº”ç”¨è½åœ°ã€‚

### 2.å›¾ç‰‡æ¼”ç¤º

![1.png](1.png)

![2.png](2.png)

![3.png](3.png)

##### æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ2.å›¾ç‰‡æ¼”ç¤ºâ€å’Œâ€œ3.è§†é¢‘æ¼”ç¤ºâ€å±•ç¤ºçš„ç³»ç»Ÿå›¾ç‰‡æˆ–è€…è§†é¢‘å¯èƒ½ä¸ºè€ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬åœ¨è€ç‰ˆæœ¬çš„åŸºç¡€ä¸Šå‡çº§å¦‚ä¸‹ï¼šï¼ˆå®é™…æ•ˆæœä»¥å‡çº§çš„æ–°ç‰ˆæœ¬ä¸ºå‡†ï¼‰

  ï¼ˆ1ï¼‰é€‚é…äº†YOLOV8çš„â€œç›®æ ‡æ£€æµ‹â€æ¨¡å‹å’Œâ€œå®ä¾‹åˆ†å‰²â€æ¨¡å‹ï¼Œé€šè¿‡åŠ è½½ç›¸åº”çš„æƒé‡ï¼ˆ.ptï¼‰æ–‡ä»¶å³å¯è‡ªé€‚åº”åŠ è½½æ¨¡å‹ã€‚

  ï¼ˆ2ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«æ¨¡å¼ã€‚

  ï¼ˆ3ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«ç»“æœä¿å­˜å¯¼å‡ºï¼Œè§£å†³æ‰‹åŠ¨å¯¼å‡ºï¼ˆå®¹æ˜“å¡é¡¿å‡ºç°çˆ†å†…å­˜ï¼‰å­˜åœ¨çš„é—®é¢˜ï¼Œè¯†åˆ«å®Œè‡ªåŠ¨ä¿å­˜ç»“æœå¹¶å¯¼å‡ºåˆ°tempDirä¸­ã€‚

  ï¼ˆ4ï¼‰æ”¯æŒWebå‰ç«¯ç³»ç»Ÿä¸­çš„æ ‡é¢˜ã€èƒŒæ™¯å›¾ç­‰è‡ªå®šä¹‰ä¿®æ”¹ï¼Œåé¢æä¾›ä¿®æ”¹æ•™ç¨‹ã€‚

  å¦å¤–æœ¬é¡¹ç›®æä¾›è®­ç»ƒçš„æ•°æ®é›†å’Œè®­ç»ƒæ•™ç¨‹,æš‚ä¸æä¾›æƒé‡æ–‡ä»¶ï¼ˆbest.ptï¼‰,éœ€è¦æ‚¨æŒ‰ç…§æ•™ç¨‹è¿›è¡Œè®­ç»ƒåå®ç°å›¾ç‰‡æ¼”ç¤ºå’ŒWebå‰ç«¯ç•Œé¢æ¼”ç¤ºçš„æ•ˆæœã€‚

### 3.è§†é¢‘æ¼”ç¤º

[3.1 è§†é¢‘æ¼”ç¤º](https://www.bilibili.com/video/BV1B7tAeKEfw/)

### 4.æ•°æ®é›†ä¿¡æ¯å±•ç¤º

##### 4.1 æœ¬é¡¹ç›®æ•°æ®é›†è¯¦ç»†æ•°æ®ï¼ˆç±»åˆ«æ•°ï¼†ç±»åˆ«åï¼‰

nc: 1
names: ['0']


##### 4.2 æœ¬é¡¹ç›®æ•°æ®é›†ä¿¡æ¯ä»‹ç»

æ•°æ®é›†ä¿¡æ¯å±•ç¤º

åœ¨æœ¬ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†åä¸ºâ€œDisplayâ€çš„æ•°æ®é›†ï¼Œä»¥æ”¯æŒå¯¹YOLOv8æ¨¡å‹åœ¨æ˜¾ç¤ºå±æ£€æµ‹ä»»åŠ¡ä¸­çš„æ”¹è¿›å’Œä¼˜åŒ–ã€‚è¯¥æ•°æ®é›†ä¸“æ³¨äºå•ä¸€ç±»åˆ«çš„æ˜¾ç¤ºå±æ£€æµ‹ï¼Œç±»åˆ«æ•°é‡ä¸º1ï¼Œå…·ä½“ç±»åˆ«æ ‡è¯†ä¸ºâ€œ0â€ã€‚è¿™ä¸€ç®€åŒ–çš„ç±»åˆ«è®¾ç½®ä½¿å¾—æ•°æ®é›†åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­èƒ½å¤Ÿé›†ä¸­ç²¾åŠ›äºæ˜¾ç¤ºå±çš„ç‰¹å¾æå–ä¸è¯†åˆ«ï¼Œé¿å…äº†å¤šç±»åˆ«ä¹‹é—´çš„å¹²æ‰°ï¼Œä»è€Œæé«˜äº†æ¨¡å‹çš„æ£€æµ‹ç²¾åº¦å’Œæ•ˆç‡ã€‚

â€œDisplayâ€æ•°æ®é›†çš„æ„å»ºæ—¨åœ¨ä¸ºæ˜¾ç¤ºå±çš„è‡ªåŠ¨æ£€æµ‹æä¾›ä¸°å¯Œçš„æ ·æœ¬å’Œå¤šæ ·åŒ–çš„åœºæ™¯ã€‚æ•°æ®é›†ä¸­åŒ…å«äº†å¤šç§ä¸åŒç±»å‹çš„æ˜¾ç¤ºå±å›¾åƒï¼Œè¿™äº›å›¾åƒæ¥æºäºä¸åŒçš„ç¯å¢ƒå’Œå…‰ç…§æ¡ä»¶ï¼Œæ¶µç›–äº†å®¤å†…å’Œå®¤å¤–çš„å„ç§æƒ…å†µã€‚é€šè¿‡è¿™ç§å¤šæ ·åŒ–çš„æ ·æœ¬é€‰æ‹©ï¼Œæ•°æ®é›†èƒ½å¤Ÿæœ‰æ•ˆåœ°æ¨¡æ‹Ÿç°å®ä¸–ç•Œä¸­æ˜¾ç¤ºå±çš„ä¸åŒè¡¨ç°å½¢å¼ï¼Œä»è€Œä¸ºYOLOv8æ¨¡å‹çš„è®­ç»ƒæä¾›æ›´ä¸ºå…¨é¢çš„ç‰¹å¾å­¦ä¹ åŸºç¡€ã€‚

åœ¨æ•°æ®é›†çš„æ ‡æ³¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†é«˜ç²¾åº¦çš„æ ‡æ³¨å·¥å…·ï¼Œç¡®ä¿æ¯ä¸€å¼ å›¾åƒä¸­çš„æ˜¾ç¤ºå±åŒºåŸŸéƒ½è¢«å‡†ç¡®åœ°æ¡†å®šã€‚è¿™ä¸€è¿‡ç¨‹ä¸ä»…æå‡äº†æ•°æ®é›†çš„è´¨é‡ï¼Œä¹Ÿä¸ºåç»­çš„æ¨¡å‹è®­ç»ƒå¥ å®šäº†åšå®çš„åŸºç¡€ã€‚ç”±äºæ˜¾ç¤ºå±çš„å¤–è§‚å’ŒèƒŒæ™¯å¯èƒ½å­˜åœ¨æ˜¾è‘—å·®å¼‚ï¼Œæ•°æ®é›†ä¸­çš„å›¾åƒè¢«ç²¾å¿ƒæŒ‘é€‰ï¼Œä»¥ç¡®ä¿æ¨¡å‹èƒ½å¤Ÿå­¦ä¹ åˆ°æ˜¾ç¤ºå±åœ¨å„ç§èƒŒæ™¯ä¸‹çš„ç‰¹å¾ã€‚è¿™ç§ç‰¹å¾çš„å¤šæ ·æ€§æ˜¯æé«˜æ¨¡å‹æ³›åŒ–èƒ½åŠ›çš„å…³é”®ï¼Œæœ‰åŠ©äºæ¨¡å‹åœ¨å®é™…åº”ç”¨ä¸­æ›´å¥½åœ°é€‚åº”ä¸åŒçš„ç¯å¢ƒã€‚

æ­¤å¤–ï¼Œä¸ºäº†å¢å¼ºæ¨¡å‹çš„é²æ£’æ€§ï¼Œæˆ‘ä»¬è¿˜åœ¨æ•°æ®é›†ä¸­å¼•å…¥äº†ä¸€äº›æ•°æ®å¢å¼ºæŠ€æœ¯ã€‚è¿™äº›æŠ€æœ¯åŒ…æ‹¬éšæœºè£å‰ªã€æ—‹è½¬ã€äº®åº¦è°ƒæ•´ç­‰ï¼Œæ—¨åœ¨é€šè¿‡äººå·¥åˆæˆçš„æ–¹å¼æ‰©å±•æ•°æ®é›†çš„è§„æ¨¡å’Œå¤šæ ·æ€§ã€‚è¿™ç§æ•°æ®å¢å¼ºä¸ä»…å¯ä»¥å¢åŠ è®­ç»ƒæ ·æœ¬çš„æ•°é‡ï¼Œè¿˜èƒ½å¸®åŠ©æ¨¡å‹åœ¨é¢å¯¹ä¸åŒçš„æ˜¾ç¤ºå±è§’åº¦ã€å…‰ç…§å˜åŒ–å’ŒèƒŒæ™¯å¹²æ‰°æ—¶ï¼Œä¿æŒè¾ƒé«˜çš„æ£€æµ‹å‡†ç¡®ç‡ã€‚

åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†â€œDisplayâ€æ•°æ®é›†ä¸YOLOv8æ¨¡å‹ç›¸ç»“åˆï¼Œåˆ©ç”¨å…¶å…ˆè¿›çš„æ·±åº¦å­¦ä¹ æ¶æ„å’Œç‰¹å¾æå–èƒ½åŠ›ï¼Œè¿›è¡Œé«˜æ•ˆçš„è®­ç»ƒã€‚YOLOv8æ¨¡å‹ä»¥å…¶å‡ºè‰²çš„å®æ—¶æ£€æµ‹æ€§èƒ½å’Œè¾ƒä½çš„è®¡ç®—å¤æ‚åº¦ï¼Œæˆä¸ºæ˜¾ç¤ºå±æ£€æµ‹ä»»åŠ¡çš„ç†æƒ³é€‰æ‹©ã€‚é€šè¿‡å¯¹â€œDisplayâ€æ•°æ®é›†çš„æ·±å…¥å­¦ä¹ ï¼Œæ¨¡å‹èƒ½å¤Ÿé€æ­¥æŒæ¡æ˜¾ç¤ºå±çš„å½¢çŠ¶ã€é¢œè‰²ã€çº¹ç†ç­‰ç‰¹å¾ï¼Œä»è€Œå®ç°é«˜æ•ˆã€å‡†ç¡®çš„æ£€æµ‹ã€‚

æ€»ä¹‹ï¼Œâ€œDisplayâ€æ•°æ®é›†ä¸ºæ”¹è¿›YOLOv8çš„æ˜¾ç¤ºå±æ£€æµ‹ç³»ç»Ÿæä¾›äº†é‡è¦çš„æ”¯æŒã€‚é€šè¿‡é«˜è´¨é‡çš„æ ·æœ¬ã€ç²¾ç¡®çš„æ ‡æ³¨å’Œæœ‰æ•ˆçš„æ•°æ®å¢å¼ºç­–ç•¥ï¼Œè¯¥æ•°æ®é›†ä¸ä»…æå‡äº†æ¨¡å‹çš„è®­ç»ƒæ•ˆæœï¼Œä¹Ÿä¸ºåç»­çš„å®é™…åº”ç”¨æä¾›äº†åšå®çš„åŸºç¡€ã€‚éšç€ç ”ç©¶çš„æ·±å…¥ï¼Œæˆ‘ä»¬æœŸå¾…â€œDisplayâ€æ•°æ®é›†èƒ½å¤Ÿä¸ºæ˜¾ç¤ºå±æ£€æµ‹é¢†åŸŸå¸¦æ¥æ–°çš„çªç ´ï¼Œæ¨åŠ¨ç›¸å…³æŠ€æœ¯çš„è¿›æ­¥ä¸å‘å±•ã€‚

![4.png](4.png)

![5.png](5.png)

![6.png](6.png)

![7.png](7.png)

![8.png](8.png)

### 5.å…¨å¥—é¡¹ç›®ç¯å¢ƒéƒ¨ç½²è§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰

[5.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404473917358506534?logTag=c807d0cbc21c0ef59de5)




[5.2 å®‰è£…Pythonè™šæ‹Ÿç¯å¢ƒåˆ›å»ºå’Œä¾èµ–åº“å®‰è£…è§†é¢‘æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404474678003106304?logTag=1f1041108cd1f708b01a)

### 6.æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰

[6.1 æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰](https://www.ixigua.com/7404477157818401292?logTag=d31a2dfd1983c9668658)

### 7.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰

[7.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰](https://www.ixigua.com/7404478314661806627?logTag=29066f8288e3f4eea3a4)

### 8.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£ï¼ˆéç§‘ç­ä¹Ÿå¯ä»¥è½»æ¾å†™åˆŠå‘åˆŠï¼ŒV10ç‰ˆæœ¬æ­£åœ¨ç§‘ç ”å¾…æ›´æ–°ï¼‰

ç”±äºç¯‡å¹…é™åˆ¶ï¼Œæ¯ä¸ªåˆ›æ–°ç‚¹çš„å…·ä½“åŸç†è®²è§£å°±ä¸ä¸€ä¸€å±•å¼€ï¼Œå…·ä½“è§ä¸‹åˆ—ç½‘å€ä¸­çš„åˆ›æ–°ç‚¹å¯¹åº”å­é¡¹ç›®çš„æŠ€æœ¯åŸç†åšå®¢ç½‘å€ã€Blogã€‘ï¼š

![9.png](9.png)

[8.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£é“¾æ¥](https://gitee.com/qunmasj/good)

### 9.ç³»ç»ŸåŠŸèƒ½å±•ç¤ºï¼ˆæ£€æµ‹å¯¹è±¡ä¸ºä¸¾ä¾‹ï¼Œå®é™…å†…å®¹ä»¥æœ¬é¡¹ç›®æ•°æ®é›†ä¸ºå‡†ï¼‰

å›¾9.1.ç³»ç»Ÿæ”¯æŒæ£€æµ‹ç»“æœè¡¨æ ¼æ˜¾ç¤º

  å›¾9.2.ç³»ç»Ÿæ”¯æŒç½®ä¿¡åº¦å’ŒIOUé˜ˆå€¼æ‰‹åŠ¨è°ƒèŠ‚

  å›¾9.3.ç³»ç»Ÿæ”¯æŒè‡ªå®šä¹‰åŠ è½½æƒé‡æ–‡ä»¶best.pt(éœ€è¦ä½ é€šè¿‡æ­¥éª¤5ä¸­è®­ç»ƒè·å¾—)

  å›¾9.4.ç³»ç»Ÿæ”¯æŒæ‘„åƒå¤´å®æ—¶è¯†åˆ«

  å›¾9.5.ç³»ç»Ÿæ”¯æŒå›¾ç‰‡è¯†åˆ«

  å›¾9.6.ç³»ç»Ÿæ”¯æŒè§†é¢‘è¯†åˆ«

  å›¾9.7.ç³»ç»Ÿæ”¯æŒè¯†åˆ«ç»“æœæ–‡ä»¶è‡ªåŠ¨ä¿å­˜

  å›¾9.8.ç³»ç»Ÿæ”¯æŒExcelå¯¼å‡ºæ£€æµ‹ç»“æœæ•°æ®

![10.png](10.png)

![11.png](11.png)

![12.png](12.png)

![13.png](13.png)

![14.png](14.png)

![15.png](15.png)

![16.png](16.png)

![17.png](17.png)

### 10.åŸå§‹YOLOV8ç®—æ³•åŸç†

åŸå§‹YOLOv8ç®—æ³•åŸç†

YOLOv8ï¼ˆYou Only Look Once version 8ï¼‰æ˜¯ç›®æ ‡æ£€æµ‹é¢†åŸŸä¸­çš„ä¸€ä¸ªé‡è¦è¿›å±•ï¼Œå®ƒåœ¨YOLOç³»åˆ—ç®—æ³•çš„åŸºç¡€ä¸Šè¿›è¡Œäº†å¤šé¡¹åˆ›æ–°å’Œä¼˜åŒ–ï¼Œæ—¨åœ¨æå‡ç›®æ ‡æ£€æµ‹çš„é€Ÿåº¦å’Œç²¾åº¦ã€‚è¯¥ç®—æ³•çš„è®¾è®¡ç†å¿µå›´ç»•ç€å¿«é€Ÿã€å‡†ç¡®å’Œæ˜“äºä½¿ç”¨çš„åŸåˆ™ï¼Œå¹¿æ³›é€‚ç”¨äºç›®æ ‡æ£€æµ‹ã€å›¾åƒåˆ†å‰²å’Œå›¾åƒåˆ†ç±»ç­‰ä»»åŠ¡ã€‚YOLOv8çš„ç½‘ç»œç»“æ„ä¸»è¦ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼šBackboneã€Neckå’ŒHeadï¼Œæ¯ä¸ªéƒ¨åˆ†éƒ½åœ¨å‰ä»£YOLOç®—æ³•çš„åŸºç¡€ä¸Šè¿›è¡Œäº†æ”¹è¿›ã€‚

åœ¨Backboneéƒ¨åˆ†ï¼ŒYOLOv8é‡‡ç”¨äº†ä¸€ç³»åˆ—å·ç§¯å’Œåå·ç§¯å±‚æ¥æå–å›¾åƒç‰¹å¾ï¼ŒåŒæ—¶å¼•å…¥äº†æ®‹å·®è¿æ¥å’Œç“¶é¢ˆç»“æ„ï¼Œä»¥å‡å°ç½‘ç»œçš„å¤§å°å¹¶æé«˜æ€§èƒ½ã€‚YOLOv8çš„Backboneä½¿ç”¨äº†C2æ¨¡å—ä½œä¸ºåŸºæœ¬æ„æˆå•å…ƒï¼ŒåŒ…å«5ä¸ªCBSæ¨¡å—ã€4ä¸ªC2fæ¨¡å—å’Œ1ä¸ªå¿«é€Ÿç©ºé—´é‡‘å­—å¡”æ± åŒ–ï¼ˆSPPFï¼‰æ¨¡å—ã€‚C2fæ¨¡å—çš„è®¾è®¡çµæ„Ÿæ¥æºäºYOLOv7ä¸­çš„ELANæ¨¡å—ï¼Œæ—¨åœ¨é€šè¿‡å¹¶è¡Œæ›´å¤šçš„æ¢¯åº¦æµåˆ†æ”¯æ¥æé«˜ç‰¹å¾æå–çš„æ•ˆç‡å’Œç²¾åº¦ã€‚è¿™ç§ç»“æ„ä¸ä»…ä¿è¯äº†ç½‘ç»œçš„è½»é‡åŒ–ï¼Œè¿˜èƒ½å¤Ÿåœ¨è¾ƒä½çš„å»¶è¿Ÿä¸‹è·å¾—æ›´ä¸°å¯Œçš„æ¢¯åº¦æµä¿¡æ¯ï¼Œä»è€Œæå‡æ¨¡å‹çš„æ•´ä½“æ€§èƒ½ã€‚

åœ¨Neckéƒ¨åˆ†ï¼ŒYOLOv8å¼•å…¥äº†å¤šå°ºåº¦ç‰¹å¾èåˆæŠ€æœ¯ï¼Œå°†æ¥è‡ªBackboneä¸åŒé˜¶æ®µçš„ç‰¹å¾å›¾è¿›è¡Œèåˆï¼Œä»¥æ›´å¥½åœ°æ•æ‰ä¸åŒå°ºåº¦ç›®æ ‡çš„ä¿¡æ¯ã€‚è¿™ä¸€è¿‡ç¨‹æ˜¾è‘—æé«˜äº†ç›®æ ‡æ£€æµ‹çš„æ€§èƒ½å’Œé²æ£’æ€§ã€‚YOLOv8åœ¨Neckéƒ¨åˆ†å»é™¤äº†YOLOv5ä¸­çš„ä¸¤æ¬¡ä¸Šé‡‡æ ·ï¼ˆUpsampleï¼‰ä¹‹å‰çš„1Ã—1å·ç§¯è¿æ¥å±‚ï¼Œç›´æ¥å¯¹Backboneä¸åŒé˜¶æ®µè¾“å‡ºçš„ç‰¹å¾è¿›è¡Œä¸Šé‡‡æ ·ã€‚è¿™ç§ç®€åŒ–çš„ç»“æ„ä½¿å¾—ç‰¹å¾èåˆæ›´åŠ é«˜æ•ˆï¼Œå‡å°‘äº†è®¡ç®—é‡ï¼ŒåŒæ—¶ä¿æŒäº†é«˜è´¨é‡çš„ç‰¹å¾ä¿¡æ¯ã€‚

YOLOv8çš„Headéƒ¨åˆ†æ˜¯å…¶æœ€å¤§çš„å˜åŒ–ä¹‹ä¸€ï¼Œé‡‡ç”¨äº†ä»Coupled-Headï¼ˆè€¦åˆå¤´ï¼‰è½¬å˜ä¸ºDecoupled-Headï¼ˆè§£è€¦å¤´ï¼‰çš„è®¾è®¡ã€‚ä¼ ç»Ÿçš„YOLOç®—æ³•åœ¨Headç»“æ„ä¸­ï¼Œæ£€æµ‹å’Œåˆ†ç±»ä»»åŠ¡å…±ç”¨ä¸€ä¸ªå·ç§¯å±‚ï¼Œè€ŒYOLOv8åˆ™å°†è¿™ä¸¤ä¸ªä»»åŠ¡è§£è€¦ï¼Œåˆ†åˆ«ä½¿ç”¨ä¸¤ä¸ª1Ã—1çš„å·ç§¯æ¨¡å—è¿›è¡Œç±»åˆ«é¢„æµ‹å’Œè¾¹ç•Œæ¡†ä½ç½®é¢„æµ‹ã€‚è¿™ç§è§£è€¦è®¾è®¡ä½¿å¾—æ¨¡å‹åœ¨å¤„ç†å¤æ‚åœºæ™¯æ—¶èƒ½å¤Ÿæ›´å¥½åœ°èšç„¦äºç›®æ ‡çš„ç‰¹å¾ï¼Œä»è€Œæé«˜æ£€æµ‹ç²¾åº¦ã€‚æ­¤å¤–ï¼ŒYOLOv8åœ¨æŸå¤±å‡½æ•°çš„è®¾è®¡ä¸Šä¹Ÿè¿›è¡Œäº†åˆ›æ–°ï¼Œå–æ¶ˆäº†Objåˆ†æ”¯ï¼Œé‡‡ç”¨BCELossï¼ˆBinary Cross Entropy Lossï¼‰å’ŒDFLï¼ˆDistribution Focal Lossï¼‰ç»“åˆCIoULossï¼ˆComplete Intersection over Union Lossï¼‰çš„æ–¹æ³•ï¼Œä»¥ä¾¿æ›´å¿«åœ°èšç„¦äºæ ‡ç­¾é™„è¿‘çš„æ•°å€¼ï¼Œæå‡æ¨¡å‹çš„æ”¶æ•›é€Ÿåº¦å’Œç²¾åº¦ã€‚

YOLOv8è¿˜æ‘’å¼ƒäº†ä»¥å¾€çš„Anchor-Basedï¼ˆåŸºäºé”šæ¡†ï¼‰æ€æƒ³ï¼Œè½¬è€Œé‡‡ç”¨Anchor-Freeï¼ˆæ— é”šæ¡†ï¼‰çš„æ–¹æ³•ã€‚è¿™ä¸€è½¬å˜ä½¿å¾—ç›®æ ‡æ£€æµ‹çš„è¿‡ç¨‹å˜å¾—æ›´åŠ çµæ´»å’Œé«˜æ•ˆã€‚ä¼ ç»Ÿçš„Anchor-Basedæ–¹æ³•éœ€è¦é¢„è®¾é”šæ¡†çš„å¤§å°å’Œæ¯”ä¾‹ï¼Œå¹¶é€šè¿‡è®¡ç®—IoUï¼ˆIntersection over Unionï¼‰æ¥ä¼˜åŒ–ç›®æ ‡ä½ç½®ï¼Œè¿™ä¸ä»…å¢åŠ äº†è®¡ç®—å¤æ‚åº¦ï¼Œè¿˜åœ¨å¤„ç†ä¸åŒå°ºåº¦å’Œå½¢çŠ¶çš„ç›®æ ‡æ—¶æ˜¾å¾—ä¸å¤Ÿçµæ´»ã€‚è€ŒYOLOv8çš„Anchor-Freeæ–¹æ³•åˆ™å°†ç›®æ ‡æ£€æµ‹è½¬åŒ–ä¸ºå…³é”®ç‚¹æ£€æµ‹ï¼Œä¸å†ä¾èµ–äºé¢„è®¾çš„é”šæ¡†ï¼Œä»è€Œç®€åŒ–äº†ç½‘ç»œç»“æ„ï¼Œæé«˜äº†æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚

åœ¨è¾“å…¥éƒ¨åˆ†ï¼ŒYOLOv8çš„é»˜è®¤è¾“å…¥å›¾åƒå°ºå¯¸ä¸º640Ã—640ï¼Œä½†åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå›¾åƒçš„é•¿å®½æ¯”å¾€å¾€å„ä¸ç›¸åŒã€‚ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼ŒYOLOv8åœ¨æµ‹è¯•å’Œæ¨ç†æ—¶é‡‡ç”¨è‡ªé€‚åº”å›¾ç‰‡ç¼©æ”¾çš„æ–¹æ³•ï¼Œå°†é•¿çš„ä¸€è¾¹æŒ‰æ¯”ä¾‹ç¼©å°åˆ°æŒ‡å®šå°ºå¯¸ï¼Œç„¶åå¯¹ç¼©å°åçš„çŸ­è¾¹è¿›è¡Œå¡«å……ã€‚è¿™ç§æ–¹æ³•æœ‰æ•ˆå‡å°‘äº†ä¿¡æ¯å†—ä½™ï¼Œæé«˜äº†ç›®æ ‡æ£€æµ‹å’Œæ¨ç†çš„é€Ÿåº¦ã€‚æ­¤å¤–ï¼ŒYOLOv8åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è¿˜å¼•å…¥äº†Mosaicå›¾åƒå¢å¼ºæ“ä½œï¼Œé€šè¿‡éšæœºå°†å››å¼ å›¾åƒè¿›è¡Œç¼©æ”¾å’Œæ‹¼æ¥ï¼Œè¿«ä½¿æ¨¡å‹å­¦ä¹ æ–°çš„ä½ç½®å’Œä¸åŒå‘¨å›´åƒç´ ï¼Œä»è€Œæé«˜äº†æ¨¡å‹çš„é¢„æµ‹ç²¾åº¦ã€‚

æ€»çš„æ¥è¯´ï¼ŒYOLOv8é€šè¿‡å¯¹Backboneã€Neckå’ŒHeadéƒ¨åˆ†çš„åˆ›æ–°è®¾è®¡ï¼Œç»“åˆAnchor-Freeçš„ç›®æ ‡æ£€æµ‹æ–¹æ³•ï¼Œæ˜¾è‘—æå‡äº†ç›®æ ‡æ£€æµ‹çš„æ€§èƒ½å’Œçµæ´»æ€§ã€‚å…¶åœ¨ç‰¹å¾æå–ã€ç‰¹å¾èåˆå’Œæœ€ç»ˆæ£€æµ‹çš„æ¯ä¸€ä¸ªç¯èŠ‚éƒ½è¿›è¡Œäº†ç²¾å¿ƒçš„ä¼˜åŒ–ï¼Œä½¿å¾—YOLOv8ä¸ä»…åœ¨é€Ÿåº¦ä¸Šå…·å¤‡ä¼˜åŠ¿ï¼ŒåŒæ—¶åœ¨ç²¾åº¦ä¸Šä¹Ÿè¾¾åˆ°äº†æ–°çš„é«˜åº¦ã€‚è¿™äº›æ”¹è¿›ä½¿å¾—YOLOv8æˆä¸ºäº†ç›®æ ‡æ£€æµ‹é¢†åŸŸä¸­çš„ä¸€æ¬¾å¼ºå¤§å·¥å…·ï¼Œé€‚ç”¨äºå„ç§å¤æ‚çš„åº”ç”¨åœºæ™¯ã€‚éšç€YOLOv8çš„æ¨å‡ºï¼Œç›®æ ‡æ£€æµ‹æŠ€æœ¯çš„ç ”ç©¶å’Œåº”ç”¨å°†è¿æ¥æ–°çš„æœºé‡ä¸æŒ‘æˆ˜ã€‚

![18.png](18.png)

### 11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰

#### 11.1 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\sam\modules\decoders.py

ä»¥ä¸‹æ˜¯å¯¹ä»£ç ä¸­æœ€æ ¸å¿ƒéƒ¨åˆ†çš„åˆ†æå’Œè¯¦ç»†æ³¨é‡Šï¼š

```python
import torch
from torch import nn
from typing import List, Tuple, Type

class MaskDecoder(nn.Module):
    """
    MaskDecoderç±»ç”¨äºç”Ÿæˆæ©ç åŠå…¶è´¨é‡è¯„åˆ†ï¼Œä½¿ç”¨å˜æ¢å™¨æ¶æ„æ ¹æ®å›¾åƒå’Œæç¤ºåµŒå…¥é¢„æµ‹æ©ç ã€‚
    """

    def __init__(
        self,
        *,
        transformer_dim: int,
        transformer: nn.Module,
        num_multimask_outputs: int = 3,
        activation: Type[nn.Module] = nn.GELU,
        iou_head_depth: int = 3,
        iou_head_hidden_dim: int = 256,
    ) -> None:
        """
        åˆå§‹åŒ–MaskDecoderç±»ã€‚

        Args:
            transformer_dim (int): å˜æ¢å™¨æ¨¡å—çš„é€šé“ç»´åº¦
            transformer (nn.Module): ç”¨äºé¢„æµ‹æ©ç çš„å˜æ¢å™¨
            num_multimask_outputs (int): é¢„æµ‹çš„æ©ç æ•°é‡
            activation (nn.Module): ç”¨äºä¸Šé‡‡æ ·æ©ç çš„æ¿€æ´»å‡½æ•°ç±»å‹
            iou_head_depth (int): ç”¨äºé¢„æµ‹æ©ç è´¨é‡çš„MLPæ·±åº¦
            iou_head_hidden_dim (int): ç”¨äºé¢„æµ‹æ©ç è´¨é‡çš„MLPéšè—ç»´åº¦
        """
        super().__init__()
        self.transformer_dim = transformer_dim  # å˜æ¢å™¨çš„é€šé“ç»´åº¦
        self.transformer = transformer  # å˜æ¢å™¨æ¨¡å—

        self.num_multimask_outputs = num_multimask_outputs  # å¤šæ©ç è¾“å‡ºæ•°é‡

        # IoU tokenå’Œmask tokensçš„åµŒå…¥
        self.iou_token = nn.Embedding(1, transformer_dim)  # IoU tokençš„åµŒå…¥
        self.num_mask_tokens = num_multimask_outputs + 1  # mask tokensæ•°é‡
        self.mask_tokens = nn.Embedding(self.num_mask_tokens, transformer_dim)  # mask tokensçš„åµŒå…¥

        # è¾“å‡ºä¸Šé‡‡æ ·ç½‘ç»œ
        self.output_upscaling = nn.Sequential(
            nn.ConvTranspose2d(transformer_dim, transformer_dim // 4, kernel_size=2, stride=2),
            nn.LayerNorm(transformer_dim // 4),
            activation(),
            nn.ConvTranspose2d(transformer_dim // 4, transformer_dim // 8, kernel_size=2, stride=2),
            activation(),
        )

        # è¶…ç½‘ç»œMLPåˆ—è¡¨ï¼Œç”¨äºç”Ÿæˆæ©ç 
        self.output_hypernetworks_mlps = nn.ModuleList([
            MLP(transformer_dim, transformer_dim, transformer_dim // 8, 3) for _ in range(self.num_mask_tokens)
        ])

        # é¢„æµ‹æ©ç è´¨é‡çš„MLP
        self.iou_prediction_head = MLP(transformer_dim, iou_head_hidden_dim, self.num_mask_tokens, iou_head_depth)

    def forward(
        self,
        image_embeddings: torch.Tensor,
        image_pe: torch.Tensor,
        sparse_prompt_embeddings: torch.Tensor,
        dense_prompt_embeddings: torch.Tensor,
        multimask_output: bool,
    ) -> Tuple[torch.Tensor, torch.Tensor]:
        """
        æ ¹æ®å›¾åƒå’Œæç¤ºåµŒå…¥é¢„æµ‹æ©ç ã€‚

        Args:
            image_embeddings (torch.Tensor): å›¾åƒç¼–ç å™¨çš„åµŒå…¥
            image_pe (torch.Tensor): å›¾åƒåµŒå…¥çš„ä½ç½®ä¿¡æ¯
            sparse_prompt_embeddings (torch.Tensor): ç¨€ç–æç¤ºçš„åµŒå…¥
            dense_prompt_embeddings (torch.Tensor): å¯†é›†æç¤ºçš„åµŒå…¥
            multimask_output (bool): æ˜¯å¦è¿”å›å¤šä¸ªæ©ç 

        Returns:
            torch.Tensor: æ‰¹é‡é¢„æµ‹çš„æ©ç 
            torch.Tensor: æ‰¹é‡é¢„æµ‹çš„æ©ç è´¨é‡
        """
        # é¢„æµ‹æ©ç å’ŒIoU
        masks, iou_pred = self.predict_masks(
            image_embeddings=image_embeddings,
            image_pe=image_pe,
            sparse_prompt_embeddings=sparse_prompt_embeddings,
            dense_prompt_embeddings=dense_prompt_embeddings,
        )

        # æ ¹æ®multimask_outputé€‰æ‹©è¾“å‡ºçš„æ©ç 
        mask_slice = slice(1, None) if multimask_output else slice(0, 1)
        masks = masks[:, mask_slice, :, :]
        iou_pred = iou_pred[:, mask_slice]

        return masks, iou_pred  # è¿”å›æ©ç å’ŒIoUé¢„æµ‹

    def predict_masks(
        self,
        image_embeddings: torch.Tensor,
        image_pe: torch.Tensor,
        sparse_prompt_embeddings: torch.Tensor,
        dense_prompt_embeddings: torch.Tensor,
    ) -> Tuple[torch.Tensor, torch.Tensor]:
        """
        é¢„æµ‹æ©ç ã€‚

        Args:
            image_embeddings (torch.Tensor): å›¾åƒç¼–ç å™¨çš„åµŒå…¥
            image_pe (torch.Tensor): å›¾åƒåµŒå…¥çš„ä½ç½®ä¿¡æ¯
            sparse_prompt_embeddings (torch.Tensor): ç¨€ç–æç¤ºçš„åµŒå…¥
            dense_prompt_embeddings (torch.Tensor): å¯†é›†æç¤ºçš„åµŒå…¥

        Returns:
            Tuple[torch.Tensor, torch.Tensor]: é¢„æµ‹çš„æ©ç å’ŒIoUé¢„æµ‹
        """
        # è¿æ¥è¾“å‡ºtokens
        output_tokens = torch.cat([self.iou_token.weight, self.mask_tokens.weight], dim=0)
        output_tokens = output_tokens.unsqueeze(0).expand(sparse_prompt_embeddings.size(0), -1, -1)
        tokens = torch.cat((output_tokens, sparse_prompt_embeddings), dim=1)

        # æ‰©å±•æ¯ä¸ªå›¾åƒçš„æ•°æ®ä»¥é€‚åº”æ¯ä¸ªæ©ç 
        src = torch.repeat_interleave(image_embeddings, tokens.shape[0], dim=0)
        src = src + dense_prompt_embeddings  # åŠ ä¸Šå¯†é›†æç¤ºåµŒå…¥
        pos_src = torch.repeat_interleave(image_pe, tokens.shape[0], dim=0)
        b, c, h, w = src.shape

        # è¿è¡Œå˜æ¢å™¨
        hs, src = self.transformer(src, pos_src, tokens)
        iou_token_out = hs[:, 0, :]  # IoU tokençš„è¾“å‡º
        mask_tokens_out = hs[:, 1:(1 + self.num_mask_tokens), :]  # mask tokensçš„è¾“å‡º

        # ä¸Šé‡‡æ ·æ©ç åµŒå…¥å¹¶ä½¿ç”¨mask tokensé¢„æµ‹æ©ç 
        src = src.transpose(1, 2).view(b, c, h, w)
        upscaled_embedding = self.output_upscaling(src)  # ä¸Šé‡‡æ ·
        hyper_in_list: List[torch.Tensor] = [
            self.output_hypernetworks_mlps[i](mask_tokens_out[:, i, :]) for i in range(self.num_mask_tokens)
        ]
        hyper_in = torch.stack(hyper_in_list, dim=1)
        masks = (hyper_in @ upscaled_embedding.view(b, c, h * w)).view(b, -1, h, w)  # ç”Ÿæˆæ©ç 

        # ç”Ÿæˆæ©ç è´¨é‡é¢„æµ‹
        iou_pred = self.iou_prediction_head(iou_token_out)

        return masks, iou_pred  # è¿”å›æ©ç å’ŒIoUé¢„æµ‹


class MLP(nn.Module):
    """
    MLPï¼ˆå¤šå±‚æ„ŸçŸ¥å™¨ï¼‰æ¨¡å‹ï¼Œç”¨äºç”Ÿæˆæ©ç è´¨é‡é¢„æµ‹ã€‚
    """

    def __init__(
        self,
        input_dim: int,
        hidden_dim: int,
        output_dim: int,
        num_layers: int,
        sigmoid_output: bool = False,
    ) -> None:
        """
        åˆå§‹åŒ–MLPæ¨¡å‹ã€‚

        Args:
            input_dim (int): è¾“å…¥ç‰¹å¾çš„ç»´åº¦
            hidden_dim (int): éšè—å±‚çš„ç»´åº¦
            output_dim (int): è¾“å‡ºå±‚çš„ç»´åº¦
            num_layers (int): éšè—å±‚çš„æ•°é‡
            sigmoid_output (bool): æ˜¯å¦å¯¹è¾“å‡ºå±‚åº”ç”¨sigmoidæ¿€æ´»
        """
        super().__init__()
        self.num_layers = num_layers
        h = [hidden_dim] * (num_layers - 1)  # éšè—å±‚ç»´åº¦åˆ—è¡¨
        self.layers = nn.ModuleList(nn.Linear(n, k) for n, k in zip([input_dim] + h, h + [output_dim]))
        self.sigmoid_output = sigmoid_output

    def forward(self, x):
        """æ‰§è¡Œå‰å‘ä¼ æ’­å¹¶åº”ç”¨æ¿€æ´»å‡½æ•°ã€‚"""
        for i, layer in enumerate(self.layers):
            x = F.relu(layer(x)) if i < self.num_layers - 1 else layer(x)  # é™¤æœ€åä¸€å±‚å¤–åº”ç”¨ReLUæ¿€æ´»
        if self.sigmoid_output:
            x = torch.sigmoid(x)  # å¦‚æœéœ€è¦ï¼Œåº”ç”¨sigmoidæ¿€æ´»
        return x
```

### æ ¸å¿ƒéƒ¨åˆ†åˆ†æ
1. **MaskDecoderç±»**ï¼šä¸»è¦ç”¨äºç”Ÿæˆæ©ç å’Œæ©ç è´¨é‡è¯„åˆ†ï¼Œä½¿ç”¨å˜æ¢å™¨æ¶æ„è¿›è¡Œé¢„æµ‹ã€‚
2. **åˆå§‹åŒ–æ–¹æ³•**ï¼šè®¾ç½®äº†å˜æ¢å™¨çš„ç»´åº¦ã€åµŒå…¥å±‚ã€ä¸Šé‡‡æ ·ç½‘ç»œå’Œæ©ç è´¨é‡é¢„æµ‹çš„MLPã€‚
3. **forwardæ–¹æ³•**ï¼šæ ¹æ®è¾“å…¥çš„å›¾åƒå’Œæç¤ºåµŒå…¥è¿›è¡Œæ©ç é¢„æµ‹ï¼Œå¹¶æ ¹æ®`multimask_output`å‚æ•°é€‰æ‹©è¿”å›å•ä¸ªæ©ç æˆ–å¤šä¸ªæ©ç ã€‚
4. **predict_masksæ–¹æ³•**ï¼šæ ¸å¿ƒé€»è¾‘ï¼Œå¤„ç†è¾“å…¥çš„åµŒå…¥ï¼Œè¿è¡Œå˜æ¢å™¨ï¼Œç”Ÿæˆæ©ç å’ŒIoUé¢„æµ‹ã€‚
5. **MLPç±»**ï¼šç”¨äºæ„å»ºå¤šå±‚æ„ŸçŸ¥å™¨ï¼Œä¸»è¦ç”¨äºæ©ç è´¨é‡çš„é¢„æµ‹ã€‚

é€šè¿‡ä»¥ä¸Šåˆ†æå’Œæ³¨é‡Šï¼Œå¯ä»¥æ›´å¥½åœ°ç†è§£è¯¥ä»£ç çš„ç»“æ„å’ŒåŠŸèƒ½ã€‚

è¿™ä¸ªæ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªåä¸º `MaskDecoder` çš„ç±»ï¼Œä¸»è¦ç”¨äºç”Ÿæˆå›¾åƒçš„æ©ç åŠå…¶è´¨é‡è¯„åˆ†ï¼Œé‡‡ç”¨äº†å˜æ¢å™¨ï¼ˆTransformerï¼‰æ¶æ„æ¥é¢„æµ‹æ©ç ã€‚è¯¥ç±»ç»§æ‰¿è‡ª PyTorch çš„ `nn.Module`ï¼Œå¹¶åŒ…å«å¤šä¸ªé‡è¦çš„å±æ€§å’Œæ–¹æ³•ã€‚

åœ¨ `__init__` æ–¹æ³•ä¸­ï¼Œæ„é€ å‡½æ•°æ¥å—å¤šä¸ªå‚æ•°ï¼ŒåŒ…æ‹¬å˜æ¢å™¨çš„ç»´åº¦ã€å˜æ¢å™¨æ¨¡å—ã€è¦é¢„æµ‹çš„æ©ç æ•°é‡ã€æ¿€æ´»å‡½æ•°ç±»å‹ã€IoUï¼ˆIntersection over Unionï¼‰å¤´çš„æ·±åº¦å’Œéšè—ç»´åº¦ç­‰ã€‚åˆå§‹åŒ–è¿‡ç¨‹ä¸­ï¼Œå®šä¹‰äº†å¤šä¸ªé‡è¦çš„ç»„ä»¶ï¼ŒåŒ…æ‹¬ç”¨äº IoU çš„åµŒå…¥å±‚ã€æ©ç çš„åµŒå…¥å±‚ã€è¾“å‡ºä¸Šé‡‡æ ·çš„ç¥ç»ç½‘ç»œåºåˆ—ï¼Œä»¥åŠç”¨äºç”Ÿæˆæ©ç çš„è¶…ç½‘ç»œ MLPï¼ˆå¤šå±‚æ„ŸçŸ¥å™¨ï¼‰ç­‰ã€‚

`forward` æ–¹æ³•æ˜¯æ¨¡å‹çš„å‰å‘ä¼ æ’­å‡½æ•°ï¼Œæ¥æ”¶å›¾åƒåµŒå…¥ã€ä½ç½®ç¼–ç ã€ç¨€ç–å’Œå¯†é›†çš„æç¤ºåµŒå…¥ï¼Œä»¥åŠä¸€ä¸ªå¸ƒå°”å€¼æŒ‡ç¤ºæ˜¯å¦è¿”å›å¤šä¸ªæ©ç ã€‚å®ƒé¦–å…ˆè°ƒç”¨ `predict_masks` æ–¹æ³•æ¥ç”Ÿæˆæ©ç å’Œ IoU é¢„æµ‹ï¼Œç„¶åæ ¹æ® `multimask_output` çš„å€¼é€‰æ‹©è¾“å‡ºçš„æ©ç å’Œ IoU é¢„æµ‹ã€‚

`predict_masks` æ–¹æ³•åˆ™è´Ÿè´£å…·ä½“çš„æ©ç é¢„æµ‹è¿‡ç¨‹ã€‚å®ƒé¦–å…ˆå°† IoU å’Œæ©ç çš„åµŒå…¥æƒé‡è¿›è¡Œæ‹¼æ¥ï¼Œå¹¶æ‰©å±•åˆ°æ¯ä¸ªå›¾åƒçš„æ‰¹æ¬¡ã€‚æ¥ç€ï¼Œå®ƒå°†å›¾åƒåµŒå…¥ä¸å¯†é›†æç¤ºåµŒå…¥ç›¸åŠ ï¼Œå¹¶é€šè¿‡å˜æ¢å™¨è¿›è¡Œå¤„ç†ã€‚æœ€åï¼Œåˆ©ç”¨ä¸Šé‡‡æ ·å’Œè¶…ç½‘ç»œ MLP ç”Ÿæˆæœ€ç»ˆçš„æ©ç ï¼Œå¹¶é€šè¿‡ IoU å¤´ç”Ÿæˆæ©ç è´¨é‡çš„é¢„æµ‹ã€‚

æ­¤å¤–ï¼Œæ–‡ä»¶ä¸­è¿˜å®šä¹‰äº†ä¸€ä¸ª `MLP` ç±»ï¼Œè¡¨ç¤ºä¸€ä¸ªå¤šå±‚æ„ŸçŸ¥å™¨æ¨¡å‹ã€‚è¯¥ç±»çš„æ„é€ å‡½æ•°æ¥å—è¾“å…¥ç»´åº¦ã€éšè—å±‚ç»´åº¦ã€è¾“å‡ºç»´åº¦å’Œå±‚æ•°ç­‰å‚æ•°ï¼Œå¹¶æ„å»ºç›¸åº”çš„çº¿æ€§å±‚ã€‚åœ¨ `forward` æ–¹æ³•ä¸­ï¼Œä¾æ¬¡é€šè¿‡æ¯ä¸€å±‚è¿›è¡Œå‰å‘ä¼ æ’­ï¼Œå¹¶åœ¨æœ€åä¸€å±‚å¯é€‰æ‹©æ€§åœ°åº”ç”¨ Sigmoid æ¿€æ´»å‡½æ•°ã€‚

æ•´ä½“æ¥çœ‹ï¼Œè¿™ä¸ªæ–‡ä»¶å®ç°äº†ä¸€ä¸ªå¤æ‚çš„æ©ç è§£ç å™¨ï¼Œç»“åˆäº†å˜æ¢å™¨æ¶æ„å’Œå¤šå±‚æ„ŸçŸ¥å™¨ï¼Œç”¨äºé«˜æ•ˆåœ°ç”Ÿæˆå›¾åƒæ©ç åŠå…¶è´¨é‡è¯„åˆ†ï¼Œé€‚ç”¨äºè®¡ç®—æœºè§†è§‰ä»»åŠ¡ä¸­çš„æ©ç é¢„æµ‹ã€‚

#### 11.2 ui.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å¹¶æ·»åŠ è¯¦ç»†ä¸­æ–‡æ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
import sys
import subprocess

def run_script(script_path):
    """
    ä½¿ç”¨å½“å‰ Python ç¯å¢ƒè¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

    Args:
        script_path (str): è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„

    Returns:
        None
    """
    # è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„
    python_path = sys.executable

    # æ„å»ºè¿è¡Œå‘½ä»¤ï¼Œä½¿ç”¨ streamlit è¿è¡ŒæŒ‡å®šçš„è„šæœ¬
    command = f'"{python_path}" -m streamlit run "{script_path}"'

    # æ‰§è¡Œå‘½ä»¤
    result = subprocess.run(command, shell=True)
    # æ£€æŸ¥å‘½ä»¤æ‰§è¡Œç»“æœï¼Œå¦‚æœè¿”å›ç ä¸ä¸º0ï¼Œè¡¨ç¤ºæ‰§è¡Œå‡ºé”™
    if result.returncode != 0:
        print("è„šæœ¬è¿è¡Œå‡ºé”™ã€‚")

# ä¸»ç¨‹åºå…¥å£
if __name__ == "__main__":
    # æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„
    script_path = "web.py"  # è¿™é‡Œå¯ä»¥ç›´æ¥æŒ‡å®šè„šæœ¬è·¯å¾„

    # è°ƒç”¨å‡½æ•°è¿è¡Œè„šæœ¬
    run_script(script_path)
```

### ä»£ç è¯´æ˜ï¼š
1. **å¯¼å…¥æ¨¡å—**ï¼š
   - `sys`ï¼šç”¨äºè®¿é—®ä¸ Python è§£é‡Šå™¨ç›¸å…³çš„å˜é‡å’Œå‡½æ•°ã€‚
   - `subprocess`ï¼šç”¨äºåˆ›å»ºæ–°è¿›ç¨‹ã€è¿æ¥åˆ°å®ƒä»¬çš„è¾“å…¥/è¾“å‡º/é”™è¯¯ç®¡é“ï¼Œå¹¶è·å–è¿”å›ç ã€‚

2. **run_script å‡½æ•°**ï¼š
   - æ¥å—ä¸€ä¸ªå‚æ•° `script_path`ï¼Œè¡¨ç¤ºè¦è¿è¡Œçš„ Python è„šæœ¬çš„è·¯å¾„ã€‚
   - ä½¿ç”¨ `sys.executable` è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ã€‚
   - æ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œç”¨äºé€šè¿‡ `streamlit` è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚
   - ä½¿ç”¨ `subprocess.run` æ‰§è¡Œæ„å»ºçš„å‘½ä»¤ï¼Œå¹¶æ£€æŸ¥è¿”å›ç ä»¥åˆ¤æ–­è„šæœ¬æ˜¯å¦æˆåŠŸè¿è¡Œã€‚

3. **ä¸»ç¨‹åºå…¥å£**ï¼š
   - ä½¿ç”¨ `if __name__ == "__main__":` ç¡®ä¿åªæœ‰åœ¨ç›´æ¥è¿è¡Œè¯¥è„šæœ¬æ—¶æ‰ä¼šæ‰§è¡Œä»¥ä¸‹ä»£ç ã€‚
   - æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ `web.py`ã€‚
   - è°ƒç”¨ `run_script` å‡½æ•°æ¥æ‰§è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶çš„ä¸»è¦åŠŸèƒ½æ˜¯ä½¿ç”¨å½“å‰çš„ Python ç¯å¢ƒæ¥è¿è¡Œä¸€ä¸ªæŒ‡å®šçš„è„šæœ¬ï¼Œå…·ä½“æ¥è¯´æ˜¯ä¸€ä¸ªåä¸º `web.py` çš„è„šæœ¬ã€‚ç¨‹åºé¦–å…ˆå¯¼å…¥äº†å¿…è¦çš„æ¨¡å—ï¼ŒåŒ…æ‹¬ `sys`ã€`os` å’Œ `subprocess`ï¼Œè¿™äº›æ¨¡å—æä¾›äº†ä¸ç³»ç»Ÿäº¤äº’çš„åŠŸèƒ½ã€‚

åœ¨ `run_script` å‡½æ•°ä¸­ï¼Œé¦–å…ˆè·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„ Python ç¯å¢ƒæ¥æ‰§è¡Œè„šæœ¬ã€‚æ¥ç€ï¼Œæ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå‘½ä»¤ä¼šè°ƒç”¨ `streamlit` æ¨¡å—æ¥è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚`streamlit` æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºæ•°æ®åº”ç”¨çš„åº“ï¼Œå› æ­¤è¿™é‡Œçš„è„šæœ¬å¾ˆå¯èƒ½æ˜¯ä¸€ä¸ªç”¨äºå±•ç¤ºæ•°æ®çš„åº”ç”¨ã€‚

ä½¿ç”¨ `subprocess.run` æ–¹æ³•æ¥æ‰§è¡Œæ„å»ºå¥½çš„å‘½ä»¤ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šåœ¨æ–°çš„ shell ä¸­è¿è¡Œå‘½ä»¤ï¼Œå¹¶ç­‰å¾…å…¶å®Œæˆã€‚å¦‚æœè„šæœ¬è¿è¡Œè¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œè¿”å›çš„çŠ¶æ€ç ä¼šä¸ç­‰äº 0ï¼Œç¨‹åºä¼šæ‰“å°å‡ºâ€œè„šæœ¬è¿è¡Œå‡ºé”™â€çš„æç¤ºã€‚

åœ¨æ–‡ä»¶çš„æœ€åéƒ¨åˆ†ï¼Œä½¿ç”¨ `if __name__ == "__main__":` è¯­å¥æ¥ç¡®ä¿åªæœ‰åœ¨ç›´æ¥è¿è¡Œè¿™ä¸ªæ–‡ä»¶æ—¶æ‰ä¼šæ‰§è¡Œåé¢çš„ä»£ç ã€‚è¿™é‡ŒæŒ‡å®šäº†è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ï¼Œå³ `web.py`ï¼Œå¹¶è°ƒç”¨ `run_script` å‡½æ•°æ¥æ‰§è¡Œè¿™ä¸ªè„šæœ¬ã€‚

æ•´ä½“æ¥çœ‹ï¼Œè¿™ä¸ªç¨‹åºæ–‡ä»¶æä¾›äº†ä¸€ç§ç®€ä¾¿çš„æ–¹å¼æ¥è¿è¡Œä¸€ä¸ªç‰¹å®šçš„ Python è„šæœ¬ï¼Œç‰¹åˆ«æ˜¯ç”¨äºæ•°æ®å¯è§†åŒ–æˆ–åº”ç”¨å¼€å‘çš„è„šæœ¬ã€‚

#### 11.3 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\__init__.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
# Ultralytics YOLO ğŸš€, AGPL-3.0 license

# å®šä¹‰å½“å‰ç‰ˆæœ¬
__version__ = '8.0.202'

# ä» ultralytics.models æ¨¡å—å¯¼å…¥å¤šä¸ªæ¨¡å‹ç±»
from ultralytics.models import RTDETR, SAM, YOLO
from ultralytics.models.fastsam import FastSAM
from ultralytics.models.nas import NAS

# ä» ultralytics.utils æ¨¡å—å¯¼å…¥è®¾ç½®ã€æ£€æŸ¥å’Œä¸‹è½½å·¥å…·
from ultralytics.utils import SETTINGS as settings
from ultralytics.utils.checks import check_yolo as checks
from ultralytics.utils.downloads import download

# å®šä¹‰æ¨¡å—çš„å…¬å…±æ¥å£ï¼ŒåŒ…å«ç‰ˆæœ¬å·å’Œå¯¼å…¥çš„ç±»åŠå‡½æ•°
__all__ = '__version__', 'YOLO', 'NAS', 'SAM', 'FastSAM', 'RTDETR', 'checks', 'download', 'settings'
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š

1. **ç‰ˆæœ¬å®šä¹‰**ï¼š
   - `__version__ = '8.0.202'`ï¼šå®šä¹‰äº†å½“å‰æ¨¡å—çš„ç‰ˆæœ¬å·ï¼Œä¾¿äºç‰ˆæœ¬ç®¡ç†å’Œè¿½è¸ªã€‚

2. **æ¨¡å‹å¯¼å…¥**ï¼š
   - `from ultralytics.models import RTDETR, SAM, YOLO`ï¼šä» `ultralytics.models` æ¨¡å—ä¸­å¯¼å…¥äº†ä¸‰ç§æ¨¡å‹ï¼ˆRTDETRã€SAMã€YOLOï¼‰ï¼Œè¿™äº›æ¨¡å‹é€šå¸¸ç”¨äºç›®æ ‡æ£€æµ‹å’Œå›¾åƒåˆ†å‰²ç­‰ä»»åŠ¡ã€‚
   - `from ultralytics.models.fastsam import FastSAM`ï¼šå¯¼å…¥ FastSAM æ¨¡å‹ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªå¿«é€Ÿçš„å›¾åƒåˆ†å‰²æ¨¡å‹ã€‚
   - `from ultralytics.models.nas import NAS`ï¼šå¯¼å…¥ NAS æ¨¡å‹ï¼Œå¯èƒ½ä¸ç¥ç»æ¶æ„æœç´¢ç›¸å…³ã€‚

3. **å·¥å…·å¯¼å…¥**ï¼š
   - `from ultralytics.utils import SETTINGS as settings`ï¼šå¯¼å…¥è®¾ç½®ç›¸å…³çš„å·¥å…·ï¼Œå¯èƒ½ç”¨äºé…ç½®æ¨¡å‹æˆ–ç¯å¢ƒã€‚
   - `from ultralytics.utils.checks import check_yolo as checks`ï¼šå¯¼å…¥ YOLO æ¨¡å‹çš„æ£€æŸ¥å·¥å…·ï¼Œç”¨äºéªŒè¯æ¨¡å‹çš„æœ‰æ•ˆæ€§æˆ–å®Œæ•´æ€§ã€‚
   - `from ultralytics.utils.downloads import download`ï¼šå¯¼å…¥ä¸‹è½½å·¥å…·ï¼Œå¯èƒ½ç”¨äºä¸‹è½½é¢„è®­ç»ƒæ¨¡å‹æˆ–æ•°æ®é›†ã€‚

4. **å…¬å…±æ¥å£å®šä¹‰**ï¼š
   - `__all__ = ...`ï¼šå®šä¹‰äº†æ¨¡å—çš„å…¬å…±æ¥å£ï¼ŒæŒ‡å®šäº†åœ¨ä½¿ç”¨ `from module import *` æ—¶å¯ä»¥å¯¼å…¥çš„å†…å®¹ã€‚è¿™æœ‰åŠ©äºæ§åˆ¶æ¨¡å—çš„å¯è§æ€§å’Œä½¿ç”¨æ–¹å¼ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯Ultralytics YOLOï¼ˆYou Only Look Onceï¼‰ç³»åˆ—æ¨¡å‹çš„åˆå§‹åŒ–æ–‡ä»¶ï¼Œæ–‡ä»¶åä¸º`__init__.py`ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å®šä¹‰æ¨¡å—çš„ç‰ˆæœ¬ã€å¯¼å…¥å¿…è¦çš„ç±»å’Œå‡½æ•°ï¼Œå¹¶æŒ‡å®šæ¨¡å—çš„å…¬å…±æ¥å£ã€‚

é¦–å…ˆï¼Œæ–‡ä»¶å¼€å¤´çš„æ³¨é‡Šéƒ¨åˆ†è¡¨æ˜è¿™æ˜¯Ultralytics YOLOçš„ä»£ç ï¼Œå¹¶ä¸”ä½¿ç”¨äº†AGPL-3.0è®¸å¯è¯ï¼Œè¯´æ˜è¯¥ä»£ç æ˜¯å¼€æºçš„ï¼Œç”¨æˆ·å¯ä»¥è‡ªç”±ä½¿ç”¨å’Œä¿®æ”¹ï¼Œä½†éœ€è¦éµå¾ªç›¸åº”çš„è®¸å¯è¯æ¡æ¬¾ã€‚

æ¥ä¸‹æ¥ï¼Œ`__version__`å˜é‡å®šä¹‰äº†å½“å‰æ¨¡å—çš„ç‰ˆæœ¬å·ä¸º'8.0.202'ï¼Œè¿™æœ‰åŠ©äºç”¨æˆ·å’Œå¼€å‘è€…äº†è§£ä½¿ç”¨çš„ä»£ç ç‰ˆæœ¬ï¼Œä¾¿äºåç»­çš„ç»´æŠ¤å’Œæ›´æ–°ã€‚

æ–‡ä»¶ä¸­é€šè¿‡`from`è¯­å¥å¯¼å…¥äº†å¤šä¸ªæ¨¡å‹å’Œå·¥å…·ï¼ŒåŒ…æ‹¬`RTDETR`ã€`SAM`ã€`YOLO`ã€`FastSAM`å’Œ`NAS`ç­‰ã€‚è¿™äº›æ¨¡å‹ä»£è¡¨äº†YOLOç³»åˆ—çš„ä¸åŒå˜ç§æˆ–æ”¹è¿›ï¼Œé€‚ç”¨äºä¸åŒçš„è®¡ç®—æœºè§†è§‰ä»»åŠ¡ã€‚æ­¤å¤–ï¼Œè¿˜å¯¼å…¥äº†ä¸€äº›å®ç”¨å·¥å…·ï¼Œå¦‚`SETTINGS`ã€`check_yolo`å’Œ`download`ï¼Œè¿™äº›å·¥å…·å¯èƒ½ç”¨äºé…ç½®ã€æ£€æŸ¥æ¨¡å‹çš„æœ‰æ•ˆæ€§ä»¥åŠä¸‹è½½æ‰€éœ€çš„èµ„æºã€‚

æœ€åï¼Œ`__all__`å˜é‡å®šä¹‰äº†æ¨¡å—çš„å…¬å…±æ¥å£ï¼Œåˆ—å‡ºäº†å¯ä»¥è¢«å¤–éƒ¨å¯¼å…¥çš„åç§°ã€‚é€šè¿‡å®šä¹‰`__all__`ï¼Œå¼€å‘è€…å¯ä»¥æ§åˆ¶å“ªäº›ç±»å’Œå‡½æ•°å¯ä»¥è¢«å…¶ä»–æ¨¡å—è®¿é—®ï¼Œä»è€Œæé«˜æ¨¡å—çš„å°è£…æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯Ultralytics YOLOæ¨¡å‹åº“çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œè´Ÿè´£åˆå§‹åŒ–æ¨¡å—ã€å¯¼å…¥æ‰€éœ€çš„ç»„ä»¶ï¼Œå¹¶æä¾›ä¸€ä¸ªæ¸…æ™°çš„å…¬å…±æ¥å£ï¼Œæ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨å’Œæ‰©å±•YOLOç³»åˆ—æ¨¡å‹ã€‚

#### 11.4 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\trackers\utils\kalman_filter.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼Œä¸»è¦åŒ…å« `KalmanFilterXYAH` ç±»åŠå…¶ä¸»è¦æ–¹æ³•ï¼š

```python
import numpy as np
import scipy.linalg

class KalmanFilterXYAH:
    """
    ç”¨äºç›®æ ‡è·Ÿè¸ªçš„ç®€å•å¡å°”æ›¼æ»¤æ³¢å™¨ï¼ŒçŠ¶æ€ç©ºé—´ä¸º8ç»´ï¼ˆx, y, a, h, vx, vy, va, vhï¼‰ã€‚
    åŒ…å«è¾¹ç•Œæ¡†ä¸­å¿ƒä½ç½®ï¼ˆx, yï¼‰ã€å®½é«˜æ¯”ï¼ˆaï¼‰ã€é«˜åº¦ï¼ˆhï¼‰åŠå…¶å„è‡ªçš„é€Ÿåº¦ã€‚
    è¿åŠ¨æ¨¡å‹å‡è®¾ä¸ºæ’å®šé€Ÿåº¦æ¨¡å‹ã€‚
    """

    def __init__(self):
        """åˆå§‹åŒ–å¡å°”æ›¼æ»¤æ³¢å™¨çš„æ¨¡å‹çŸ©é˜µï¼Œè®¾ç½®è¿åŠ¨å’Œè§‚æµ‹çš„ä¸ç¡®å®šæ€§æƒé‡ã€‚"""
        ndim, dt = 4, 1.  # çŠ¶æ€ç»´åº¦å’Œæ—¶é—´æ­¥é•¿

        # åˆ›å»ºå¡å°”æ›¼æ»¤æ³¢å™¨çš„è¿åŠ¨çŸ©é˜µ
        self._motion_mat = np.eye(2 * ndim, 2 * ndim)  # 2å€çŠ¶æ€ç»´åº¦çš„å•ä½çŸ©é˜µ
        for i in range(ndim):
            self._motion_mat[i, ndim + i] = dt  # è®¾ç½®é€Ÿåº¦éƒ¨åˆ†
        self._update_mat = np.eye(ndim, 2 * ndim)  # è§‚æµ‹çŸ©é˜µ

        # è¿åŠ¨å’Œè§‚æµ‹çš„ä¸ç¡®å®šæ€§æƒé‡
        self._std_weight_position = 1. / 20
        self._std_weight_velocity = 1. / 160

    def initiate(self, measurement):
        """
        ä»æœªå…³è”çš„æµ‹é‡åˆ›å»ºè·Ÿè¸ªã€‚

        å‚æ•°
        ----------
        measurement : ndarray
            è¾¹ç•Œæ¡†åæ ‡ï¼ˆx, y, a, hï¼‰ã€‚

        è¿”å›
        -------
        (ndarray, ndarray)
            è¿”å›æ–°è·Ÿè¸ªçš„å‡å€¼å‘é‡ï¼ˆ8ç»´ï¼‰å’Œåæ–¹å·®çŸ©é˜µï¼ˆ8x8ç»´ï¼‰ã€‚
        """
        mean_pos = measurement  # ä½ç½®å‡å€¼
        mean_vel = np.zeros_like(mean_pos)  # é€Ÿåº¦å‡å€¼åˆå§‹åŒ–ä¸º0
        mean = np.r_[mean_pos, mean_vel]  # åˆå¹¶ä½ç½®å’Œé€Ÿåº¦å‡å€¼

        # åˆå§‹åŒ–åæ–¹å·®çŸ©é˜µ
        std = [
            2 * self._std_weight_position * measurement[3],  # é«˜åº¦ç›¸å…³çš„ä¸ç¡®å®šæ€§
            2 * self._std_weight_position * measurement[3],
            1e-2,  # å®½é«˜æ¯”çš„ä¸ç¡®å®šæ€§
            2 * self._std_weight_position * measurement[3],
            10 * self._std_weight_velocity * measurement[3],  # é€Ÿåº¦ç›¸å…³çš„ä¸ç¡®å®šæ€§
            10 * self._std_weight_velocity * measurement[3],
            1e-5,
            10 * self._std_weight_velocity * measurement[3]
        ]
        covariance = np.diag(np.square(std))  # å¯¹è§’åæ–¹å·®çŸ©é˜µ
        return mean, covariance

    def predict(self, mean, covariance):
        """
        æ‰§è¡Œå¡å°”æ›¼æ»¤æ³¢å™¨çš„é¢„æµ‹æ­¥éª¤ã€‚

        å‚æ•°
        ----------
        mean : ndarray
            ä¸Šä¸€æ—¶é—´æ­¥çš„çŠ¶æ€å‡å€¼å‘é‡ï¼ˆ8ç»´ï¼‰ã€‚
        covariance : ndarray
            ä¸Šä¸€æ—¶é—´æ­¥çš„çŠ¶æ€åæ–¹å·®çŸ©é˜µï¼ˆ8x8ç»´ï¼‰ã€‚

        è¿”å›
        -------
        (ndarray, ndarray)
            è¿”å›é¢„æµ‹çŠ¶æ€çš„å‡å€¼å‘é‡å’Œåæ–¹å·®çŸ©é˜µã€‚
        """
        # è®¡ç®—è¿åŠ¨åæ–¹å·®
        std_pos = [
            self._std_weight_position * mean[3],  # é«˜åº¦ç›¸å…³çš„ä¸ç¡®å®šæ€§
            self._std_weight_position * mean[3],
            1e-2,
            self._std_weight_position * mean[3]
        ]
        std_vel = [
            self._std_weight_velocity * mean[3],  # é€Ÿåº¦ç›¸å…³çš„ä¸ç¡®å®šæ€§
            self._std_weight_velocity * mean[3],
            1e-5,
            self._std_weight_velocity * mean[3]
        ]
        motion_cov = np.diag(np.square(np.r_[std_pos, std_vel]))  # è¿åŠ¨åæ–¹å·®çŸ©é˜µ

        # é¢„æµ‹å‡å€¼å’Œåæ–¹å·®
        mean = np.dot(mean, self._motion_mat.T)  # æ›´æ–°å‡å€¼
        covariance = np.linalg.multi_dot((self._motion_mat, covariance, self._motion_mat.T)) + motion_cov  # æ›´æ–°åæ–¹å·®

        return mean, covariance

    def update(self, mean, covariance, measurement):
        """
        æ‰§è¡Œå¡å°”æ›¼æ»¤æ³¢å™¨çš„æ ¡æ­£æ­¥éª¤ã€‚

        å‚æ•°
        ----------
        mean : ndarray
            é¢„æµ‹çŠ¶æ€çš„å‡å€¼å‘é‡ï¼ˆ8ç»´ï¼‰ã€‚
        covariance : ndarray
            çŠ¶æ€çš„åæ–¹å·®çŸ©é˜µï¼ˆ8x8ç»´ï¼‰ã€‚
        measurement : ndarray
            æµ‹é‡å‘é‡ï¼ˆx, y, a, hï¼‰ã€‚

        è¿”å›
        -------
        (ndarray, ndarray)
            è¿”å›ç»è¿‡æµ‹é‡æ ¡æ­£åçš„çŠ¶æ€åˆ†å¸ƒã€‚
        """
        projected_mean, projected_cov = self.project(mean, covariance)  # æŠ•å½±åˆ°æµ‹é‡ç©ºé—´

        # è®¡ç®—å¡å°”æ›¼å¢ç›Š
        chol_factor, lower = scipy.linalg.cho_factor(projected_cov, lower=True, check_finite=False)
        kalman_gain = scipy.linalg.cho_solve((chol_factor, lower),
                                             np.dot(covariance, self._update_mat.T).T,
                                             check_finite=False).T
        innovation = measurement - projected_mean  # è®¡ç®—åˆ›æ–°

        # æ›´æ–°å‡å€¼å’Œåæ–¹å·®
        new_mean = mean + np.dot(innovation, kalman_gain.T)
        new_covariance = covariance - np.linalg.multi_dot((kalman_gain, projected_cov, kalman_gain.T))
        return new_mean, new_covariance

    def project(self, mean, covariance):
        """
        å°†çŠ¶æ€åˆ†å¸ƒæŠ•å½±åˆ°æµ‹é‡ç©ºé—´ã€‚

        å‚æ•°
        ----------
        mean : ndarray
            çŠ¶æ€çš„å‡å€¼å‘é‡ï¼ˆ8ç»´ï¼‰ã€‚
        covariance : ndarray
            çŠ¶æ€çš„åæ–¹å·®çŸ©é˜µï¼ˆ8x8ç»´ï¼‰ã€‚

        è¿”å›
        -------
        (ndarray, ndarray)
            è¿”å›æŠ•å½±åçš„å‡å€¼å’Œåæ–¹å·®çŸ©é˜µã€‚
        """
        std = [
            self._std_weight_position * mean[3],  # é«˜åº¦ç›¸å…³çš„ä¸ç¡®å®šæ€§
            self._std_weight_position * mean[3],
            1e-1,
            self._std_weight_position * mean[3]
        ]
        innovation_cov = np.diag(np.square(std))  # åˆ›æ–°åæ–¹å·®

        mean = np.dot(self._update_mat, mean)  # æ›´æ–°å‡å€¼
        covariance = np.linalg.multi_dot((self._update_mat, covariance, self._update_mat.T))  # æ›´æ–°åæ–¹å·®
        return mean, covariance + innovation_cov  # è¿”å›æŠ•å½±åçš„å‡å€¼å’Œåæ–¹å·®
```

### ä»£ç è¯´æ˜
1. **ç±»å®šä¹‰**ï¼š`KalmanFilterXYAH` ç±»å®ç°äº†å¡å°”æ›¼æ»¤æ³¢å™¨ï¼Œç”¨äºè·Ÿè¸ªå›¾åƒç©ºé—´ä¸­çš„è¾¹ç•Œæ¡†ã€‚
2. **åˆå§‹åŒ–**ï¼šåœ¨ `__init__` æ–¹æ³•ä¸­ï¼Œåˆå§‹åŒ–äº†è¿åŠ¨çŸ©é˜µå’Œè§‚æµ‹çŸ©é˜µï¼Œå¹¶è®¾ç½®äº†è¿åŠ¨å’Œè§‚æµ‹çš„ä¸ç¡®å®šæ€§æƒé‡ã€‚
3. **è·Ÿè¸ªåˆå§‹åŒ–**ï¼š`initiate` æ–¹æ³•ç”¨äºä»æµ‹é‡å€¼åˆ›å»ºæ–°çš„è·Ÿè¸ªå¯¹è±¡ï¼Œè¿”å›å‡å€¼å’Œåæ–¹å·®çŸ©é˜µã€‚
4. **é¢„æµ‹æ­¥éª¤**ï¼š`predict` æ–¹æ³•æ ¹æ®å½“å‰çŠ¶æ€çš„å‡å€¼å’Œåæ–¹å·®è¿›è¡Œé¢„æµ‹ï¼Œæ›´æ–°çŠ¶æ€ã€‚
5. **æ›´æ–°æ­¥éª¤**ï¼š`update` æ–¹æ³•ç»“åˆæµ‹é‡å€¼å¯¹é¢„æµ‹çš„çŠ¶æ€è¿›è¡Œæ ¡æ­£ï¼Œè¿”å›æ›´æ–°åçš„å‡å€¼å’Œåæ–¹å·®ã€‚
6. **æŠ•å½±æ­¥éª¤**ï¼š`project` æ–¹æ³•å°†çŠ¶æ€åˆ†å¸ƒæŠ•å½±åˆ°æµ‹é‡ç©ºé—´ï¼Œä»¥ä¾¿è¿›è¡Œæ ¡æ­£ã€‚

é€šè¿‡è¿™äº›æ–¹æ³•ï¼Œå¡å°”æ›¼æ»¤æ³¢å™¨èƒ½å¤Ÿæœ‰æ•ˆåœ°è·Ÿè¸ªç›®æ ‡åœ¨å›¾åƒä¸­çš„ä½ç½®å’Œè¿åŠ¨ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶å®ç°äº†ä¸€ä¸ªç®€å•çš„å¡å°”æ›¼æ»¤æ³¢å™¨ï¼Œç”¨äºåœ¨å›¾åƒç©ºé—´ä¸­è·Ÿè¸ªè¾¹ç•Œæ¡†ã€‚å¡å°”æ›¼æ»¤æ³¢å™¨æ˜¯ä¸€ç§ç”¨äºä¼°è®¡åŠ¨æ€ç³»ç»ŸçŠ¶æ€çš„é€’å½’ç®—æ³•ï¼Œç‰¹åˆ«é€‚ç”¨äºå¤„ç†å¸¦æœ‰å™ªå£°çš„æµ‹é‡æ•°æ®ã€‚æ–‡ä»¶ä¸­å®šä¹‰äº†ä¸¤ä¸ªç±»ï¼š`KalmanFilterXYAH`å’Œ`KalmanFilterXYWH`ï¼Œåˆ†åˆ«ç”¨äºä¸åŒçš„è¾¹ç•Œæ¡†è¡¨ç¤ºæ–¹æ³•ã€‚

`KalmanFilterXYAH`ç±»ä½¿ç”¨8ç»´çŠ¶æ€ç©ºé—´æ¥è¡¨ç¤ºç‰©ä½“çš„çŠ¶æ€ï¼ŒåŒ…æ‹¬è¾¹ç•Œæ¡†çš„ä¸­å¿ƒä½ç½®ï¼ˆx, yï¼‰ã€å®½é«˜æ¯”ï¼ˆaï¼‰ã€é«˜åº¦ï¼ˆhï¼‰ä»¥åŠå®ƒä»¬å„è‡ªçš„é€Ÿåº¦ï¼ˆvx, vy, va, vhï¼‰ã€‚è¯¥ç±»çš„æ„é€ å‡½æ•°åˆå§‹åŒ–äº†è¿åŠ¨å’Œè§‚æµ‹çš„ä¸ç¡®å®šæ€§æƒé‡ï¼Œå¹¶åˆ›å»ºäº†è¿åŠ¨çŸ©é˜µå’Œæ›´æ–°çŸ©é˜µã€‚`initiate`æ–¹æ³•ç”¨äºä»æœªå…³è”çš„æµ‹é‡å€¼åˆ›å»ºè·Ÿè¸ªï¼Œè¿”å›æ–°çš„çŠ¶æ€å‡å€¼å’Œåæ–¹å·®çŸ©é˜µã€‚`predict`æ–¹æ³•å®ç°äº†å¡å°”æ›¼æ»¤æ³¢çš„é¢„æµ‹æ­¥éª¤ï¼Œæ›´æ–°çŠ¶æ€å‡å€¼å’Œåæ–¹å·®çŸ©é˜µã€‚`project`æ–¹æ³•å°†çŠ¶æ€åˆ†å¸ƒæŠ•å½±åˆ°æµ‹é‡ç©ºé—´ï¼Œä»¥ä¾¿è¿›è¡Œåç»­çš„æ›´æ–°ã€‚`update`æ–¹æ³•åˆ™æ‰§è¡Œå¡å°”æ›¼æ»¤æ³¢çš„æ ¡æ­£æ­¥éª¤ï¼Œé€šè¿‡æµ‹é‡å€¼æ¥æ›´æ–°çŠ¶æ€åˆ†å¸ƒã€‚

`KalmanFilterXYWH`ç±»æ˜¯`KalmanFilterXYAH`çš„å­ç±»ï¼Œä¸»è¦ç”¨äºå¦ä¸€ç§è¾¹ç•Œæ¡†è¡¨ç¤ºæ–¹å¼ï¼Œä½¿ç”¨å®½åº¦ï¼ˆwï¼‰å’Œé«˜åº¦ï¼ˆhï¼‰æ¥æ›¿ä»£å®½é«˜æ¯”ï¼ˆaï¼‰ã€‚è¿™ä¸ªç±»é‡å†™äº†`initiate`ã€`predict`å’Œ`project`æ–¹æ³•ï¼Œä»¥é€‚åº”æ–°çš„çŠ¶æ€è¡¨ç¤ºã€‚`update`æ–¹æ³•åˆ™ç›´æ¥è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•æ¥å®Œæˆæ›´æ–°ã€‚

æ•´ä½“æ¥çœ‹ï¼Œè¿™ä¸ªæ–‡ä»¶æä¾›äº†ä¸€ä¸ªçµæ´»çš„å¡å°”æ›¼æ»¤æ³¢å™¨å®ç°ï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„è¾¹ç•Œæ¡†è¡¨ç¤ºæ–¹å¼è¿›è¡Œè·Ÿè¸ªï¼Œé€‚ç”¨äºå„ç§ç›®æ ‡æ£€æµ‹å’Œè·Ÿè¸ªä»»åŠ¡ã€‚é€šè¿‡ä½¿ç”¨å¡å°”æ›¼æ»¤æ³¢å™¨ï¼Œç³»ç»Ÿèƒ½å¤Ÿåœ¨åŠ¨æ€ç¯å¢ƒä¸­æœ‰æ•ˆåœ°ä¼°è®¡ç‰©ä½“çš„çŠ¶æ€ï¼Œå¤„ç†æµ‹é‡å™ªå£°ï¼Œå¹¶æé«˜è·Ÿè¸ªçš„å‡†ç¡®æ€§ã€‚

#### 11.5 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\nn\backbone\VanillaNet.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼š

```python
import torch
import torch.nn as nn
import torch.nn.functional as F
from timm.layers import weight_init

# å®šä¹‰æ¿€æ´»å‡½æ•°ç±»ï¼Œç»§æ‰¿è‡ª ReLU
class Activation(nn.ReLU):
    def __init__(self, dim, act_num=3, deploy=False):
        super(Activation, self).__init__()
        self.deploy = deploy  # æ˜¯å¦ä¸ºéƒ¨ç½²æ¨¡å¼
        # åˆå§‹åŒ–æƒé‡å’Œåç½®
        self.weight = torch.nn.Parameter(torch.randn(dim, 1, act_num * 2 + 1, act_num * 2 + 1))
        self.bias = None
        self.bn = nn.BatchNorm2d(dim, eps=1e-6)  # æ‰¹å½’ä¸€åŒ–
        self.dim = dim
        self.act_num = act_num
        weight_init.trunc_normal_(self.weight, std=.02)  # æƒé‡åˆå§‹åŒ–

    def forward(self, x):
        # å‰å‘ä¼ æ’­
        if self.deploy:
            return F.conv2d(
                super(Activation, self).forward(x), 
                self.weight, self.bias, padding=(self.act_num * 2 + 1) // 2, groups=self.dim)
        else:
            return self.bn(F.conv2d(
                super(Activation, self).forward(x),
                self.weight, padding=self.act_num, groups=self.dim))

    def switch_to_deploy(self):
        # åˆ‡æ¢åˆ°éƒ¨ç½²æ¨¡å¼
        if not self.deploy:
            kernel, bias = self._fuse_bn_tensor(self.weight, self.bn)
            self.weight.data = kernel
            self.bias = torch.nn.Parameter(torch.zeros(self.dim))
            self.bias.data = bias
            self.__delattr__('bn')  # åˆ é™¤ bn å±æ€§
            self.deploy = True

    def _fuse_bn_tensor(self, weight, bn):
        # èåˆæƒé‡å’Œæ‰¹å½’ä¸€åŒ–
        kernel = weight
        running_mean = bn.running_mean
        running_var = bn.running_var
        gamma = bn.weight
        beta = bn.bias
        eps = bn.eps
        std = (running_var + eps).sqrt()
        t = (gamma / std).reshape(-1, 1, 1, 1)
        return kernel * t, beta + (0 - running_mean) * gamma / std

# å®šä¹‰ç½‘ç»œå—
class Block(nn.Module):
    def __init__(self, dim, dim_out, act_num=3, stride=2, deploy=False):
        super().__init__()
        self.deploy = deploy
        # æ ¹æ®æ˜¯å¦éƒ¨ç½²é€‰æ‹©ä¸åŒçš„å·ç§¯å±‚
        if self.deploy:
            self.conv = nn.Conv2d(dim, dim_out, kernel_size=1)
        else:
            self.conv1 = nn.Sequential(
                nn.Conv2d(dim, dim, kernel_size=1),
                nn.BatchNorm2d(dim, eps=1e-6),
            )
            self.conv2 = nn.Sequential(
                nn.Conv2d(dim, dim_out, kernel_size=1),
                nn.BatchNorm2d(dim_out, eps=1e-6)
            )
        # æ± åŒ–å±‚
        self.pool = nn.MaxPool2d(stride) if stride != 1 else nn.Identity()
        self.act = Activation(dim_out, act_num)  # æ¿€æ´»å‡½æ•°

    def forward(self, x):
        # å‰å‘ä¼ æ’­
        if self.deploy:
            x = self.conv(x)
        else:
            x = self.conv1(x)
            x = F.leaky_relu(x, negative_slope=1)  # ä½¿ç”¨ Leaky ReLU æ¿€æ´»
            x = self.conv2(x)

        x = self.pool(x)  # æ± åŒ–
        x = self.act(x)  # æ¿€æ´»
        return x

# å®šä¹‰ VanillaNet ç½‘ç»œ
class VanillaNet(nn.Module):
    def __init__(self, in_chans=3, num_classes=1000, dims=[96, 192, 384, 768], 
                 drop_rate=0, act_num=3, strides=[2, 2, 2, 1], deploy=False):
        super().__init__()
        self.deploy = deploy
        # å®šä¹‰ç½‘ç»œçš„åˆå§‹éƒ¨åˆ†
        if self.deploy:
            self.stem = nn.Sequential(
                nn.Conv2d(in_chans, dims[0], kernel_size=4, stride=4),
                Activation(dims[0], act_num)
            )
        else:
            self.stem1 = nn.Sequential(
                nn.Conv2d(in_chans, dims[0], kernel_size=4, stride=4),
                nn.BatchNorm2d(dims[0], eps=1e-6),
            )
            self.stem2 = nn.Sequential(
                nn.Conv2d(dims[0], dims[0], kernel_size=1, stride=1),
                nn.BatchNorm2d(dims[0], eps=1e-6),
                Activation(dims[0], act_num)
            )

        self.stages = nn.ModuleList()  # å­˜å‚¨å„ä¸ªé˜¶æ®µçš„ Block
        for i in range(len(strides)):
            stage = Block(dim=dims[i], dim_out=dims[i + 1], act_num=act_num, stride=strides[i], deploy=deploy)
            self.stages.append(stage)

    def forward(self, x):
        # å‰å‘ä¼ æ’­
        if self.deploy:
            x = self.stem(x)
        else:
            x = self.stem1(x)
            x = F.leaky_relu(x, negative_slope=1)
            x = self.stem2(x)

        for stage in self.stages:
            x = stage(x)  # é€šè¿‡æ¯ä¸ª Block
        return x

# ç¤ºä¾‹ï¼šåˆ›å»ºä¸€ä¸ª VanillaNet æ¨¡å‹å¹¶è¿›è¡Œå‰å‘ä¼ æ’­
if __name__ == '__main__':
    inputs = torch.randn((1, 3, 640, 640))  # è¾“å…¥æ•°æ®
    model = VanillaNet()  # åˆ›å»ºæ¨¡å‹
    pred = model(inputs)  # å‰å‘ä¼ æ’­
    print(pred.size())  # è¾“å‡ºé¢„æµ‹ç»“æœçš„å°ºå¯¸
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š
1. **Activation ç±»**ï¼šè‡ªå®šä¹‰çš„æ¿€æ´»å‡½æ•°ç±»ï¼Œæ”¯æŒæ‰¹å½’ä¸€åŒ–å’Œæƒé‡èåˆã€‚
2. **Block ç±»**ï¼šæ„å»ºç½‘ç»œçš„åŸºæœ¬å•å…ƒï¼ŒåŒ…å«å·ç§¯å±‚ã€æ± åŒ–å±‚å’Œæ¿€æ´»å‡½æ•°ã€‚
3. **VanillaNet ç±»**ï¼šæ•´ä¸ªç½‘ç»œç»“æ„çš„å®šä¹‰ï¼ŒåŒ…å«åˆå§‹å±‚å’Œå¤šä¸ª Blockã€‚
4. **å‰å‘ä¼ æ’­**ï¼šåœ¨ `forward` æ–¹æ³•ä¸­å®šä¹‰æ•°æ®å¦‚ä½•é€šè¿‡ç½‘ç»œæµåŠ¨ã€‚
5. **ç¤ºä¾‹ä»£ç **ï¼šåœ¨ä¸»ç¨‹åºä¸­åˆ›å»ºæ¨¡å‹å¹¶è¿›è¡Œå‰å‘ä¼ æ’­ï¼Œå±•ç¤ºæ¨¡å‹çš„ä½¿ç”¨ã€‚

è¯¥ç¨‹åºæ–‡ä»¶å®ç°äº†ä¸€ä¸ªåä¸º `VanillaNet` çš„ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œå±äº YOLOv8 ç®—æ³•çš„æ”¹è¿›ç‰ˆæœ¬ã€‚æ–‡ä»¶ä¸­åŒ…å«äº†å¤šä¸ªç±»å’Œå‡½æ•°ï¼Œä¸»è¦ç”¨äºæ„å»ºã€è®­ç»ƒå’ŒåŠ è½½è¯¥æ¨¡å‹çš„æƒé‡ã€‚

é¦–å…ˆï¼Œæ–‡ä»¶å¼€å¤´åŒ…å«ç‰ˆæƒå£°æ˜å’Œè®¸å¯è¯ä¿¡æ¯ï¼Œè¡¨æ˜è¯¥ç¨‹åºæ˜¯è‡ªç”±è½¯ä»¶ï¼Œå¯ä»¥åœ¨ MIT è®¸å¯è¯ä¸‹è¿›è¡Œä¿®æ”¹å’Œåˆ†å‘ã€‚

æ¥ä¸‹æ¥ï¼Œç¨‹åºå¯¼å…¥äº†å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬ PyTorch å’Œä¸€äº›è‡ªå®šä¹‰çš„å±‚ã€‚`__all__` å˜é‡å®šä¹‰äº†å¯ä»¥è¢«å¤–éƒ¨è°ƒç”¨çš„æ¨¡å‹åç§°ã€‚

`activation` ç±»æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„æ¿€æ´»å‡½æ•°ç±»ï¼Œç»§æ‰¿è‡ª `nn.ReLU`ã€‚å®ƒåœ¨åˆå§‹åŒ–æ—¶åˆ›å»ºäº†ä¸€ä¸ªå¯å­¦ä¹ çš„æƒé‡å‚æ•°ï¼Œå¹¶ä½¿ç”¨æ‰¹é‡å½’ä¸€åŒ–ã€‚`forward` æ–¹æ³•å®šä¹‰äº†å‰å‘ä¼ æ’­çš„è¿‡ç¨‹ï¼Œæ ¹æ®æ˜¯å¦å¤„äºéƒ¨ç½²æ¨¡å¼é€‰æ‹©ä¸åŒçš„è®¡ç®—æ–¹å¼ã€‚`switch_to_deploy` æ–¹æ³•ç”¨äºå°†æ¨¡å‹åˆ‡æ¢åˆ°éƒ¨ç½²æ¨¡å¼ï¼Œèåˆæ‰¹é‡å½’ä¸€åŒ–å±‚çš„æƒé‡ã€‚

`Block` ç±»æ˜¯ VanillaNet çš„åŸºæœ¬æ„å»ºå—ï¼ŒåŒ…å«å·ç§¯å±‚ã€æ± åŒ–å±‚å’Œæ¿€æ´»å‡½æ•°ã€‚å®ƒæ ¹æ®ä¼ å…¥çš„å‚æ•°è®¾ç½®ä¸åŒçš„å·ç§¯å’Œæ± åŒ–æ–¹å¼ã€‚`forward` æ–¹æ³•å®ç°äº†è¾“å…¥æ•°æ®çš„å‰å‘ä¼ æ’­ï¼Œå¹¶åœ¨éœ€è¦æ—¶è¿›è¡Œç‰¹å¾æå–ã€‚

`VanillaNet` ç±»æ˜¯æ•´ä¸ªç½‘ç»œçš„ä¸»ä½“ï¼Œåˆå§‹åŒ–æ—¶å®šä¹‰äº†è¾“å…¥é€šé“ã€ç±»åˆ«æ•°ã€ç‰¹å¾ç»´åº¦ã€ä¸¢å¼ƒç‡ç­‰å‚æ•°ã€‚å®ƒé€šè¿‡ `Block` ç±»æ„å»ºå¤šä¸ªé˜¶æ®µï¼Œå¹¶åœ¨ `forward` æ–¹æ³•ä¸­å®ç°äº†å‰å‘ä¼ æ’­é€»è¾‘ï¼Œæå–ç‰¹å¾å¹¶è¿”å›ã€‚

æ­¤å¤–ï¼Œç¨‹åºä¸­è¿˜å®šä¹‰äº†ä¸€äº›è¾…åŠ©å‡½æ•°ï¼Œä¾‹å¦‚ `update_weight` ç”¨äºæ›´æ–°æ¨¡å‹çš„æƒé‡ï¼Œ`vanillanet_5` åˆ° `vanillanet_13_x1_5_ada_pool` ç­‰å‡½æ•°ç”¨äºåˆ›å»ºä¸åŒé…ç½®çš„ VanillaNet æ¨¡å‹ï¼Œå¹¶å¯é€‰æ‹©åŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚

æœ€åï¼Œç¨‹åºçš„ä¸»å…¥å£éƒ¨åˆ†åˆ›å»ºäº†ä¸€ä¸ªéšæœºè¾“å…¥å¹¶å®ä¾‹åŒ–äº† `vanillanet_10` æ¨¡å‹ï¼Œæ‰§è¡Œå‰å‘ä¼ æ’­å¹¶æ‰“å°è¾“å‡ºç‰¹å¾çš„å°ºå¯¸ã€‚

æ•´ä½“æ¥çœ‹ï¼Œè¯¥æ–‡ä»¶å®ç°äº†ä¸€ä¸ªçµæ´»çš„ç¥ç»ç½‘ç»œç»“æ„ï¼Œå…è®¸ç”¨æˆ·æ ¹æ®éœ€è¦é€‰æ‹©ä¸åŒçš„æ¨¡å‹é…ç½®å’Œæƒé‡åŠ è½½æ–¹å¼ï¼Œé€‚ç”¨äºè®¡ç®—æœºè§†è§‰ä»»åŠ¡ä¸­çš„ç‰¹å¾æå–å’Œåˆ†ç±»ã€‚

#### 11.6 train.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼Œä¸»è¦ä¿ç•™äº†è®­ç»ƒæ£€æµ‹æ¨¡å‹çš„åŠŸèƒ½ï¼š

```python
import random
import numpy as np
import torch.nn as nn
from ultralytics.data import build_dataloader, build_yolo_dataset
from ultralytics.engine.trainer import BaseTrainer
from ultralytics.models import yolo
from ultralytics.nn.tasks import DetectionModel
from ultralytics.utils import LOGGER, RANK
from ultralytics.utils.torch_utils import de_parallel, torch_distributed_zero_first

class DetectionTrainer(BaseTrainer):
    """
    åŸºäºæ£€æµ‹æ¨¡å‹çš„è®­ç»ƒç±»ï¼Œç»§æ‰¿è‡ªBaseTrainerç±»ã€‚
    """

    def build_dataset(self, img_path, mode="train", batch=None):
        """
        æ„å»ºYOLOæ•°æ®é›†ã€‚

        å‚æ•°:
            img_path (str): å›¾åƒæ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚
            mode (str): æ¨¡å¼ï¼Œå¯ä»¥æ˜¯'train'æˆ–'val'ï¼Œç”¨äºä¸åŒçš„æ•°æ®å¢å¼ºã€‚
            batch (int, optional): æ‰¹æ¬¡å¤§å°ï¼Œé€‚ç”¨äº'rect'æ¨¡å¼ã€‚é»˜è®¤ä¸ºNoneã€‚
        """
        gs = max(int(de_parallel(self.model).stride.max() if self.model else 0), 32)  # è·å–æ¨¡å‹çš„æœ€å¤§æ­¥å¹…
        return build_yolo_dataset(self.args, img_path, batch, self.data, mode=mode, rect=mode == "val", stride=gs)

    def get_dataloader(self, dataset_path, batch_size=16, rank=0, mode="train"):
        """æ„å»ºå¹¶è¿”å›æ•°æ®åŠ è½½å™¨ã€‚"""
        assert mode in ["train", "val"]  # ç¡®ä¿æ¨¡å¼æœ‰æ•ˆ
        with torch_distributed_zero_first(rank):  # åœ¨åˆ†å¸ƒå¼è®­ç»ƒä¸­ï¼Œä»…åˆå§‹åŒ–ä¸€æ¬¡æ•°æ®é›†
            dataset = self.build_dataset(dataset_path, mode, batch_size)
        shuffle = mode == "train"  # è®­ç»ƒæ¨¡å¼ä¸‹æ‰“ä¹±æ•°æ®
        workers = self.args.workers if mode == "train" else self.args.workers * 2  # æ ¹æ®æ¨¡å¼è®¾ç½®å·¥ä½œçº¿ç¨‹æ•°
        return build_dataloader(dataset, batch_size, workers, shuffle, rank)  # è¿”å›æ•°æ®åŠ è½½å™¨

    def preprocess_batch(self, batch):
        """å¯¹å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬ç¼©æ”¾å’Œè½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚"""
        batch["img"] = batch["img"].to(self.device, non_blocking=True).float() / 255  # å°†å›¾åƒè½¬æ¢ä¸ºæµ®ç‚¹æ•°å¹¶å½’ä¸€åŒ–
        if self.args.multi_scale:  # å¦‚æœå¯ç”¨å¤šå°ºåº¦
            imgs = batch["img"]
            sz = (
                random.randrange(self.args.imgsz * 0.5, self.args.imgsz * 1.5 + self.stride)
                // self.stride
                * self.stride
            )  # éšæœºé€‰æ‹©ä¸€ä¸ªæ–°çš„å°ºå¯¸
            sf = sz / max(imgs.shape[2:])  # è®¡ç®—ç¼©æ”¾å› å­
            if sf != 1:
                ns = [
                    math.ceil(x * sf / self.stride) * self.stride for x in imgs.shape[2:]
                ]  # è®¡ç®—æ–°çš„å½¢çŠ¶
                imgs = nn.functional.interpolate(imgs, size=ns, mode="bilinear", align_corners=False)  # è¿›è¡Œæ’å€¼ç¼©æ”¾
            batch["img"] = imgs  # æ›´æ–°æ‰¹æ¬¡å›¾åƒ
        return batch

    def get_model(self, cfg=None, weights=None, verbose=True):
        """è¿”å›YOLOæ£€æµ‹æ¨¡å‹ã€‚"""
        model = DetectionModel(cfg, nc=self.data["nc"], verbose=verbose and RANK == -1)  # åˆ›å»ºæ£€æµ‹æ¨¡å‹
        if weights:
            model.load(weights)  # åŠ è½½æƒé‡
        return model

    def plot_training_samples(self, batch, ni):
        """ç»˜åˆ¶å¸¦æœ‰æ³¨é‡Šçš„è®­ç»ƒæ ·æœ¬ã€‚"""
        plot_images(
            images=batch["img"],
            batch_idx=batch["batch_idx"],
            cls=batch["cls"].squeeze(-1),
            bboxes=batch["bboxes"],
            paths=batch["im_file"],
            fname=self.save_dir / f"train_batch{ni}.jpg",
            on_plot=self.on_plot,
        )

    def plot_metrics(self):
        """ä»CSVæ–‡ä»¶ä¸­ç»˜åˆ¶æŒ‡æ ‡ã€‚"""
        plot_results(file=self.csv, on_plot=self.on_plot)  # ä¿å­˜ç»“æœå›¾åƒ
```

### ä»£ç è¯´æ˜ï¼š
1. **ç±»å®šä¹‰**ï¼š`DetectionTrainer` ç»§æ‰¿è‡ª `BaseTrainer`ï¼Œç”¨äºè®­ç»ƒYOLOæ£€æµ‹æ¨¡å‹ã€‚
2. **æ•°æ®é›†æ„å»º**ï¼š`build_dataset` æ–¹æ³•ç”¨äºæ ¹æ®è¾“å…¥è·¯å¾„å’Œæ¨¡å¼æ„å»ºYOLOæ•°æ®é›†ã€‚
3. **æ•°æ®åŠ è½½å™¨**ï¼š`get_dataloader` æ–¹æ³•åˆ›å»ºå¹¶è¿”å›æ•°æ®åŠ è½½å™¨ï¼Œæ”¯æŒè®­ç»ƒå’ŒéªŒè¯æ¨¡å¼ã€‚
4. **æ‰¹æ¬¡é¢„å¤„ç†**ï¼š`preprocess_batch` æ–¹æ³•å¯¹è¾“å…¥çš„å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å½’ä¸€åŒ–å’Œå¯é€‰çš„å¤šå°ºåº¦è°ƒæ•´ã€‚
5. **æ¨¡å‹è·å–**ï¼š`get_model` æ–¹æ³•è¿”å›ä¸€ä¸ªYOLOæ£€æµ‹æ¨¡å‹ï¼Œå¹¶å¯é€‰æ‹©åŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚
6. **ç»˜å›¾åŠŸèƒ½**ï¼š`plot_training_samples` å’Œ `plot_metrics` æ–¹æ³•ç”¨äºå¯è§†åŒ–è®­ç»ƒæ ·æœ¬å’Œè®­ç»ƒæŒ‡æ ‡ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶ `train.py` æ˜¯ä¸€ä¸ªç”¨äºè®­ç»ƒç›®æ ‡æ£€æµ‹æ¨¡å‹çš„è„šæœ¬ï¼ŒåŸºäº Ultralytics çš„ YOLOï¼ˆYou Only Look Onceï¼‰æ¡†æ¶ã€‚æ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€ä¸ªåä¸º `DetectionTrainer` çš„ç±»ï¼Œç»§æ‰¿è‡ª `BaseTrainer`ï¼Œç”¨äºå®ç°ç›®æ ‡æ£€æµ‹æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ã€‚

åœ¨è¿™ä¸ªç±»ä¸­ï¼Œé¦–å…ˆå®šä¹‰äº† `build_dataset` æ–¹æ³•ï¼Œç”¨äºæ„å»º YOLO æ•°æ®é›†ã€‚è¯¥æ–¹æ³•æ¥æ”¶å›¾åƒè·¯å¾„ã€æ¨¡å¼ï¼ˆè®­ç»ƒæˆ–éªŒè¯ï¼‰ä»¥åŠæ‰¹æ¬¡å¤§å°ä½œä¸ºå‚æ•°ã€‚å®ƒä¼šæ ¹æ®æ¨¡å‹çš„æ­¥å¹…ï¼ˆstrideï¼‰æ¥ç¡®å®šæ•°æ®é›†çš„æ„å»ºæ–¹å¼ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ„å»ºå¥½çš„æ•°æ®é›†ã€‚

æ¥ç€ï¼Œ`get_dataloader` æ–¹æ³•ç”¨äºæ„å»ºæ•°æ®åŠ è½½å™¨ï¼ˆDataLoaderï¼‰ï¼Œè¯¥æ–¹æ³•ä¼šæ ¹æ®ä¼ å…¥çš„å‚æ•°ï¼ˆå¦‚æ•°æ®é›†è·¯å¾„ã€æ‰¹æ¬¡å¤§å°ã€è¿›ç¨‹æ’åå’Œæ¨¡å¼ï¼‰æ¥è¿”å›ä¸€ä¸ªæ•°æ®åŠ è½½å™¨ã€‚å®ƒè¿˜ä¼šå¤„ç†æ•°æ®é›†çš„ç¼“å­˜åˆå§‹åŒ–å’Œæ•°æ®çš„éšæœºæ‰“ä¹±ã€‚

`preprocess_batch` æ–¹æ³•ç”¨äºå¯¹å›¾åƒæ‰¹æ¬¡è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬å°†å›¾åƒç¼©æ”¾åˆ°åˆé€‚çš„å¤§å°å¹¶è½¬æ¢ä¸ºæµ®ç‚¹æ•°æ ¼å¼ã€‚è¿™ä¸ªè¿‡ç¨‹è¿˜è€ƒè™‘äº†å¤šå°ºåº¦è®­ç»ƒçš„æƒ…å†µï¼Œé€šè¿‡éšæœºé€‰æ‹©å›¾åƒçš„å¤§å°æ¥å¢å¼ºæ¨¡å‹çš„é²æ£’æ€§ã€‚

`set_model_attributes` æ–¹æ³•ç”¨äºè®¾ç½®æ¨¡å‹çš„å±æ€§ï¼ŒåŒ…æ‹¬ç±»åˆ«æ•°é‡å’Œç±»åˆ«åç§°ç­‰ã€‚è¿™äº›ä¿¡æ¯ä¼šè¢«é™„åŠ åˆ°æ¨¡å‹ä¸­ï¼Œä»¥ä¾¿åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä½¿ç”¨ã€‚

`get_model` æ–¹æ³•è¿”å›ä¸€ä¸ª YOLO æ£€æµ‹æ¨¡å‹çš„å®ä¾‹ï¼Œæ”¯æŒåŠ è½½é¢„è®­ç»ƒæƒé‡ã€‚

`get_validator` æ–¹æ³•è¿”å›ä¸€ä¸ªç”¨äºæ¨¡å‹éªŒè¯çš„ `DetectionValidator` å®ä¾‹ï¼Œè´Ÿè´£åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è¯„ä¼°æ¨¡å‹çš„æ€§èƒ½ã€‚

`label_loss_items` æ–¹æ³•ç”¨äºè¿”å›å¸¦æœ‰æ ‡ç­¾çš„è®­ç»ƒæŸå¤±é¡¹å­—å…¸ï¼Œä¾¿äºç›‘æ§è®­ç»ƒè¿‡ç¨‹ä¸­çš„æŸå¤±å˜åŒ–ã€‚

`progress_string` æ–¹æ³•è¿”å›ä¸€ä¸ªæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œæ˜¾ç¤ºè®­ç»ƒè¿›åº¦ï¼ŒåŒ…æ‹¬å½“å‰çš„ epochã€GPU å†…å­˜ä½¿ç”¨æƒ…å†µã€æŸå¤±å€¼ã€å®ä¾‹æ•°é‡å’Œå›¾åƒå¤§å°ç­‰ä¿¡æ¯ã€‚

`plot_training_samples` æ–¹æ³•ç”¨äºç»˜åˆ¶è®­ç»ƒæ ·æœ¬åŠå…¶æ ‡æ³¨ï¼Œå¸®åŠ©å¯è§†åŒ–è®­ç»ƒæ•°æ®çš„è´¨é‡ã€‚

æœ€åï¼Œ`plot_metrics` å’Œ `plot_training_labels` æ–¹æ³•åˆ†åˆ«ç”¨äºç»˜åˆ¶è®­ç»ƒè¿‡ç¨‹ä¸­çš„æŒ‡æ ‡å’Œç”Ÿæˆå¸¦æœ‰æ ‡ç­¾çš„è®­ç»ƒå›¾ï¼Œä¾¿äºåˆ†ææ¨¡å‹çš„è®­ç»ƒæ•ˆæœã€‚

æ•´ä½“æ¥çœ‹ï¼Œè¿™ä¸ªæ–‡ä»¶å®ç°äº†ç›®æ ‡æ£€æµ‹æ¨¡å‹è®­ç»ƒçš„å„ä¸ªç¯èŠ‚ï¼ŒåŒ…æ‹¬æ•°æ®é›†æ„å»ºã€æ•°æ®åŠ è½½ã€æ¨¡å‹è®¾ç½®ã€è®­ç»ƒè¿‡ç¨‹ç›‘æ§å’Œç»“æœå¯è§†åŒ–ç­‰åŠŸèƒ½ã€‚

### 12.ç³»ç»Ÿæ•´ä½“ç»“æ„ï¼ˆèŠ‚é€‰ï¼‰

### æ•´ä½“åŠŸèƒ½å’Œæ„æ¶æ¦‚æ‹¬

è¯¥é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº YOLOv8 çš„ç›®æ ‡æ£€æµ‹æ¡†æ¶ï¼ŒåŒ…å«å¤šä¸ªæ¨¡å—å’Œå·¥å…·ï¼Œç”¨äºå®ç°ç›®æ ‡æ£€æµ‹ã€è·Ÿè¸ªã€æ¨¡å‹è®­ç»ƒå’Œæ¨ç†ç­‰åŠŸèƒ½ã€‚é¡¹ç›®çš„ç»“æ„è®¾è®¡åˆç†ï¼Œå„ä¸ªæ¨¡å—ä¹‹é—´é€šè¿‡æ¥å£è¿›è¡Œäº¤äº’ï¼Œä¾¿äºæ‰©å±•å’Œç»´æŠ¤ã€‚æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š

1. **æ¨¡å‹å®šä¹‰**ï¼šå®šä¹‰äº†å¤šç§ YOLOv8 æ¨¡å‹åŠå…¶å˜ç§ï¼Œæ”¯æŒä¸åŒçš„ç½‘ç»œæ¶æ„å’Œé…ç½®ã€‚
2. **æ•°æ®å¤„ç†**ï¼šæä¾›æ•°æ®é›†æ„å»ºå’Œæ•°æ®åŠ è½½çš„åŠŸèƒ½ï¼Œæ”¯æŒå¤šç§æ•°æ®æ ¼å¼å’Œå¢å¼ºæ–¹æ³•ã€‚
3. **è®­ç»ƒä¸éªŒè¯**ï¼šå®ç°äº†è®­ç»ƒè¿‡ç¨‹çš„ç®¡ç†ï¼ŒåŒ…æ‹¬æŸå¤±è®¡ç®—ã€æ¨¡å‹è¯„ä¼°å’Œå¯è§†åŒ–ã€‚
4. **æ¨ç†ä¸é¢„æµ‹**ï¼šæ”¯æŒæ¨¡å‹çš„æ¨ç†å’Œé¢„æµ‹åŠŸèƒ½ï¼Œèƒ½å¤Ÿå¤„ç†è¾“å…¥å›¾åƒå¹¶è¾“å‡ºæ£€æµ‹ç»“æœã€‚
5. **å·¥å…·ä¸å®ç”¨ç¨‹åº**ï¼šæä¾›äº†å¤šç§å®ç”¨å·¥å…·ï¼Œå¦‚å¡å°”æ›¼æ»¤æ³¢å™¨ã€æ¿€æ´»å‡½æ•°ç­‰ï¼Œå¢å¼ºäº†æ¨¡å‹çš„åŠŸèƒ½ã€‚

### æ–‡ä»¶åŠŸèƒ½æ•´ç†è¡¨

| æ–‡ä»¶è·¯å¾„                                                                                      | åŠŸèƒ½æè¿°                                                         |
|-----------------------------------------------------------------------------------------------|------------------------------------------------------------------|
| `ultralytics/models/sam/modules/decoders.py`                                                 | å®ç°æ©ç è§£ç å™¨ï¼Œç”Ÿæˆå›¾åƒæ©ç åŠå…¶è´¨é‡è¯„åˆ†ï¼ŒåŸºäºå˜æ¢å™¨æ¶æ„ã€‚       |
| `ui.py`                                                                                       | æä¾›è¿è¡ŒæŒ‡å®šè„šæœ¬ï¼ˆå¦‚ web.pyï¼‰çš„åŠŸèƒ½ï¼Œä¾¿äºå¯åŠ¨æ•°æ®åº”ç”¨ã€‚          |
| `ultralytics/__init__.py`                                                                     | åˆå§‹åŒ–æ¨¡å—ï¼Œå®šä¹‰ç‰ˆæœ¬å·ï¼Œå¯¼å…¥æ¨¡å‹å’Œå·¥å…·ï¼Œè®¾ç½®å…¬å…±æ¥å£ã€‚          |
| `ultralytics/trackers/utils/kalman_filter.py`                                               | å®ç°å¡å°”æ›¼æ»¤æ³¢å™¨ï¼Œç”¨äºç›®æ ‡è·Ÿè¸ªï¼Œæ”¯æŒä¸åŒçš„è¾¹ç•Œæ¡†è¡¨ç¤ºæ–¹å¼ã€‚      |
| `ultralytics/nn/backbone/VanillaNet.py`                                                     | å®šä¹‰ VanillaNet æ¨¡å‹ç»“æ„ï¼Œæ”¯æŒç‰¹å¾æå–å’Œåˆ†ç±»ã€‚                   |
| `train.py`                                                                                    | å®ç°ç›®æ ‡æ£€æµ‹æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ï¼ŒåŒ…æ‹¬æ•°æ®é›†æ„å»ºã€æ¨¡å‹è®¾ç½®å’Œç›‘æ§ã€‚    |
| `ultralytics/nn/autobackend.py`                                                              | è‡ªåŠ¨é€‰æ‹©åç«¯ï¼ˆå¦‚ PyTorchã€TensorFlowï¼‰ä»¥æ”¯æŒæ¨¡å‹è®­ç»ƒå’Œæ¨ç†ã€‚     |
| `ultralytics/nn/__init__.py`                                                                  | åˆå§‹åŒ–ç¥ç»ç½‘ç»œæ¨¡å—ï¼Œå¯¼å…¥å„ç±»ç½‘ç»œç»„ä»¶å’Œå·¥å…·ã€‚                     |
| `ultralytics/models/nas/predict.py`                                                          | å®ç°ç¥ç»æ¶æ„æœç´¢ï¼ˆNASï¼‰æ¨¡å‹çš„æ¨ç†åŠŸèƒ½ã€‚                          |
| `ultralytics/models/sam/predict.py`                                                          | å®ç° SAM æ¨¡å‹çš„æ¨ç†åŠŸèƒ½ï¼Œå¤„ç†è¾“å…¥å¹¶è¾“å‡ºæ£€æµ‹ç»“æœã€‚                |
| `ultralytics/models/yolo/pose/train.py`                                                     | å®ç° YOLO å§¿æ€ä¼°è®¡æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ã€‚                               |
| `ultralytics/nn/modules/head.py`                                                             | å®šä¹‰æ¨¡å‹çš„å¤´éƒ¨ç»“æ„ï¼Œè´Ÿè´£è¾“å‡ºå±‚çš„æ„å»ºå’ŒæŸå¤±è®¡ç®—ã€‚                 |
| `ultralytics/nn/extra_modules/ops_dcnv3/setup.py`                                           | é…ç½®å’Œå®‰è£… DCNv3 æ¨¡å—ï¼Œå¢å¼ºå·ç§¯æ“ä½œçš„çµæ´»æ€§å’Œæ€§èƒ½ã€‚              |

è¿™ä¸ªè¡¨æ ¼æ¦‚è¿°äº†æ¯ä¸ªæ–‡ä»¶çš„ä¸»è¦åŠŸèƒ½ï¼Œå¸®åŠ©ç†è§£æ•´ä¸ªé¡¹ç›®çš„ç»“æ„å’Œå„ä¸ªæ¨¡å—çš„ä½œç”¨ã€‚

æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰â€ä¸­éƒ¨åˆ†ä»£ç å¯èƒ½ä¼šä¼˜åŒ–å‡çº§ï¼Œä»…ä¾›å‚è€ƒå­¦ä¹ ï¼Œå®Œæ•´â€œè®­ç»ƒæºç â€ã€â€œWebå‰ç«¯ç•Œé¢â€å’Œâ€œ70+ç§åˆ›æ–°ç‚¹æºç â€ä»¥â€œ13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–â€çš„å†…å®¹ä¸ºå‡†ã€‚

### 13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–

![19.png](19.png)


# [ä¸‹è½½é“¾æ¥ï¼šhttps://mbd.pub/o/bread/ZpuVlJ1u](https://mbd.pub/o/bread/ZpuVlJ1u)